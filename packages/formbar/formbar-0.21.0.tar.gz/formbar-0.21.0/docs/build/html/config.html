<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Form configuration &mdash; Formbar 0.20.3 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.20.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Formbar 0.20.3 documentation" href="index.html" />
    <link rel="next" title="Usage" href="usage.html" />
    <link rel="prev" title="Getting Started" href="start.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="start.html" title="Getting Started"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Formbar 0.20.3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="form-configuration">
<span id="form-config"></span><h1>Form configuration<a class="headerlink" href="#form-configuration" title="Permalink to this headline">¶</a></h1>
<p>The form will be configured using a XML definition. The configuration is
basically splitted into two parts:</p>
<ol class="arabic simple">
<li>The definition of the datamodel in the <em>source</em> directive.</li>
<li>Definition and Layout of forms in <em>forms</em>.</li>
</ol>
<p>The basic form configuration looks like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;configuration&gt;
   &lt;source&gt;
   &lt;!-- Define different entity types --&gt;
   &lt;/source&gt;
   &lt;form&gt;
   &lt;!-- Define and layout a form --&gt;
   &lt;/form&gt;
   &lt;snippet&gt;
   &lt;!-- Container holdig parts of a form definition --&gt;
   &lt;/snippet&gt;
&lt;/configuration&gt;
</pre></div>
</div>
<p>The <a class="reference internal" href="#snippet"><span class="std std-ref">Snippet</span></a> element is optional and just a helper.</p>
<div class="section" id="datamodel">
<h2>Datamodel<a class="headerlink" href="#datamodel" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">source</span></code> directive defines the <a class="reference internal" href="#entity"><span class="std std-ref">Entity</span></a> are available in your
forms.  An entity is defined only once in the source section. It will get
referenced in the <a class="reference internal" href="#form"><span class="std std-ref">FormbarFormEditor</span></a> directive later to build the forms.</p>
<div class="section" id="entity">
<span id="id1"></span><h3>Entity<a class="headerlink" href="#entity" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="#entity"><span class="std std-ref">Entity</span></a> is a field definition.
The entity is used to configure aspects of the <em>datamodel</em> the <em>layout</em>
and <em>behaviour</em> of the field in the form.</p>
<p>Here is an example of an entity definition:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entity</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;f1&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;age&quot;</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Age&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;integer&quot;</span> <span class="n">css</span><span class="o">=</span><span class="s2">&quot;field&quot;</span> <span class="n">required</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="n">help</span><span class="o">&gt;</span><span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">help</span> <span class="n">text</span><span class="o">&lt;/</span><span class="n">help</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">rule</span> <span class="n">expr</span><span class="o">=</span><span class="s2">&quot;$age ge 21&quot;</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Age must be greater than 21&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="n">validator</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;a.b.external_validator&quot;</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Error message&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Entities can be marked as <em>required</em> or <em>desired</em>. Formed will generate
automatically a <a class="reference internal" href="#rule"><span class="std std-ref">Rule</span></a>  for this field. Missing required fields will
trigger an error on form validation. Desired fields will trigger a warning.</p>
<p>Entities can be marked as <em>readonly</em>. Readonly fields are renderer as simple
text in the form displaying the current value of the field. Note, that
readonly fields are not sent on submission! If you need the value if the form
you will need to add an additional entity and render is with the hidden field
renderer.</p>
<p>Each entity can optional have a <a class="reference internal" href="#renderer"><span class="std std-ref">Renderer</span></a>, <a class="reference internal" href="#rule"><span class="std std-ref">Rule</span></a> or <a class="reference internal" href="#help"><span class="std std-ref">Help</span></a>
element.</p>
<table border="1" class="docutils">
<colgroup>
<col width="3%" />
<col width="97%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>Used to refer to this entity in the form. Requiered. Must be unique.</td>
</tr>
<tr class="row-odd"><td>name</td>
<td>Used as name attribute in the rendered field. Defines the name of this attribute in the model. Name of the field must only contain characters which are valid in context of your database. So better stay with [<a href="#id14"><span class="problematic" id="id15">a-zA-Z0-9_</span></a>]</td>
</tr>
<tr class="row-even"><td>label</td>
<td>The field will be rendered with this label.</td>
</tr>
<tr class="row-odd"><td>number</td>
<td>A small number which is rendered in front of the label.</td>
</tr>
<tr class="row-even"><td>type</td>
<td>Defines the python datatype which will be used on deserialisation of the submitted value. Defines the datatype of the model. Possible values are <code class="docutils literal"><span class="pre">string</span></code> (default), <code class="docutils literal"><span class="pre">text</span></code>, <code class="docutils literal"><span class="pre">integer</span></code>, <code class="docutils literal"><span class="pre">float</span></code>, <code class="docutils literal"><span class="pre">date</span></code>, <code class="docutils literal"><span class="pre">datetime</span></code>, <code class="docutils literal"><span class="pre">email</span></code>, <code class="docutils literal"><span class="pre">boolean</span></code>, <code class="docutils literal"><span class="pre">time</span></code>, <code class="docutils literal"><span class="pre">interval</span></code>.  css         Value will be rendered as class attribute in the rendered field.</td>
</tr>
<tr class="row-odd"><td>expr</td>
<td>Expression which is used to calculate the value of the field.</td>
</tr>
<tr class="row-even"><td>value</td>
<td>Default value of the field. Supports expressions. The default value might get overwritten on rendering.</td>
</tr>
<tr class="row-odd"><td>placeholder</td>
<td>Custom placeholder that overrides the default of a field. For now only usable for <code class="docutils literal"><span class="pre">interval</span></code>.</td>
</tr>
<tr class="row-even"><td>readonly</td>
<td>Flag to indicate that the field should be rendered as readonly field. Default is <code class="docutils literal"><span class="pre">false</span></code>.</td>
</tr>
<tr class="row-odd"><td>required</td>
<td>Flag to indicate that the is a required field. Default is <code class="docutils literal"><span class="pre">false</span></code>.</td>
</tr>
<tr class="row-even"><td>autofocus</td>
<td>Flag to mark the field to be focused on pageload. Only one field per form can be focused. Default is <code class="docutils literal"><span class="pre">false</span></code>.</td>
</tr>
<tr class="row-odd"><td>desired</td>
<td>Flag to indicate that the is a desired field. Default is <code class="docutils literal"><span class="pre">false</span></code>.</td>
</tr>
<tr class="row-even"><td>tags</td>
<td>Comma separated list of tags for this field.</td>
</tr>
</tbody>
</table>
<div class="section" id="defaults">
<h4>Defaults<a class="headerlink" href="#defaults" title="Permalink to this headline">¶</a></h4>
<p>You can set a default for the field in case there is no value for the
field. The default value can be set by using the <code class="docutils literal"><span class="pre">value</span></code> attribute of
the entity.</p>
<p>You can provide a default value by</p>
<ol class="arabic">
<li><p class="first">Given in plain string value</p>
</li>
<li><p class="first">Accessing an attribute of the SA mapped item. This supports dot
separated attribute names of the item to access related items:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">...</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;$foo.bar.baz&quot;</span>
</pre></div>
</div>
<p>&#8220;$&#8221; represents the current form item. So foo is an attribute of it and
bar is an attribute of foo.</p>
</li>
<li><p class="first">Using expressions. The default value can be calculated by using a
expression:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">...</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">% d</span><span class="s2">ate(&#39;today&#39;)&quot;</span>
</pre></div>
</div>
<p>The expample will set the value to the current date.
&#8220;%&#8221; is used to say formbar that the following string must be
considered as an expression. The Expression will evaluated with the
values of the current form item.</p>
</li>
</ol>
</div>
</div>
<div class="section" id="options">
<h3>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<p>Options are used to define available options for a entity in case it is an selection. The options my be defined in different ways.</p>
<p>By defining every option per hand:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="o">&gt;</span><span class="n">Foo</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span><span class="n">Bar</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
    <span class="o">...</span>
    <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;99&quot;</span><span class="o">&gt;</span><span class="n">Baz</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">options</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>By setting the value attribute of the options. This should be the name of an attribute of the item which is used to get the available options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">options</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>By not defining options at all and letting the library load the options for you based on the entity name.</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>value</td>
<td>Optional. Name of an attribute of the item which will provide a list of items used for the options.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rule">
<span id="id2"></span><h3>Rule<a class="headerlink" href="#rule" title="Permalink to this headline">¶</a></h3>
<p>Rules are used to validate data in the form. Formed does already some basic
validated on the submitted data depending on the configured data type in the
<a class="reference internal" href="#entity"><span class="std std-ref">Entity</span></a>. These checks are often already sufficient for most basic forms.</p>
<p>If you need more validation rules can be used to define additional checks.
There are two types of rules. Rules which triggers errors, and rules which
trigger a warning if the evaluation of the rule fails.</p>
<p>Rules are evaluated in the process of validation the submitted data. On
validation formed will collect warning and errors and will rerender the form
displaying them. If the form has errors the validation fails. Warnings are ok
for validation.</p>
<p>Validation of rules can be done in differen modes. Rules with the mode <code class="docutils literal"><span class="pre">pre</span></code>
are evaluation before the deserialisation of the submitted value occurs into
the python data type of the field. In contrast rules with mode <code class="docutils literal"><span class="pre">post</span></code> are
evaluation after the deserialisation happened.</p>
<p>Here is a example rule:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">rule</span> <span class="n">expr</span><span class="o">=</span><span class="s2">&quot;$age ge 21&quot;</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Age must be greater than 21&quot;</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;post&quot;</span> <span class="n">triggers</span><span class="o">=</span><span class="s2">&quot;warning&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>Here you can see a example rule. The rule will check the value of field &#8220;age&#8221;
($age) is greater or equal that the value 21. The rule is evaluated in post
mode. And will trigger a warning if the evaluation fails.</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="95%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>expr</td>
<td>Expression which is used to validate the value if the field.</td>
</tr>
<tr class="row-odd"><td>msg</td>
<td>The message which is displayed if the evaluation of the rule fails.</td>
</tr>
<tr class="row-even"><td>mode</td>
<td>Point in validation when this rules gets evaluations. <code class="docutils literal"><span class="pre">post</span></code> (default) means after the deserialisation of the value and <code class="docutils literal"><span class="pre">pre</span></code> is before deserialisation.</td>
</tr>
<tr class="row-odd"><td>triggers</td>
<td>Flag which defines which type of message a the rule will trigger if the evaluation fails. Be be <code class="docutils literal"><span class="pre">error</span></code> (default) or <code class="docutils literal"><span class="pre">warning</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="validator">
<span id="id3"></span><h3>Validator<a class="headerlink" href="#validator" title="Permalink to this headline">¶</a></h3>
<p>A validator defines an external validator. See <a class="reference internal" href="#external-validator"><span class="std std-ref">Write external validators</span></a> for
more details. Those validators are usally used if the validation become more
complex or it is just not possible to express the rule with a <a class="reference internal" href="#rule"><span class="std std-ref">Rule</span></a>
You can define a validator in the form configuration in a similar way like
defining rules for an entity:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">validator</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;a.b.external_validator&quot;</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Error message&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>src</td>
<td>The <em>src</em> attribute is the modul path to the callable. The path is used to import the validator dynamically at runtime.</td>
</tr>
<tr class="row-odd"><td>msg</td>
<td>The message which is displayed if the evaluation of the validation fails.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="help">
<span id="id4"></span><h3>Help<a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h3>
<p>The help block can be used to add some information to the field for the user.</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>display</td>
<td>Defines how and where to display the information on the field. Can be <code class="docutils literal"><span class="pre">tooltip</span></code> (default) or <code class="docutils literal"><span class="pre">text</span></code>.</td>
</tr>
</tbody>
</table>
<p>Depending on the display attribute of the help the information is either shown
as tooltip next to the label of the field or below the field as normal text.</p>
</div>
<div class="section" id="renderer">
<span id="id5"></span><h3>Renderer<a class="headerlink" href="#renderer" title="Permalink to this headline">¶</a></h3>
<p>The renderer directive can be used to configure an alternative renderer to be
used to render the field.</p>
<p>The default renderer is chosen depending on the datatype of the field and is a
textfield for almost all normal datatypes. On relations (in SQLAlchemy mapped
items) a selection field is used for the relations</p>
<table border="1" class="docutils">
<colgroup>
<col width="2%" />
<col width="98%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>Type of the renderer. See <a class="reference internal" href="#formbar-renderers"><span class="std std-ref">Renderers</span></a></td>
</tr>
<tr class="row-odd"><td>indent</td>
<td>Style of indent of input elements. If set the field elements and help texts under the label will get an indent. This only applies if the label position is set to top. Defaults to no indent. Possible values are <cite>empty</cite>, <cite>symbol</cite> and <cite>number</cite>, <cite>bg</cite>. The style can be combined with the further attributes to define additional styling aspects linke border and width of the indent. Use <cite>bordered</cite> to get some additional visual indication of the indent and <cite>sm</cite>, <cite>md</cite>, <cite>lg</cite> to define the size of the indention.</td>
</tr>
</tbody>
</table>
<p>There are different types of <a class="reference internal" href="#formbar-renderers"><span class="std std-ref">Renderers</span></a> available coming with formed. You
can define which renderer will be used by setting the <em>type</em> attribute:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span> <span class="n">indent</span><span class="o">=</span><span class="s2">&quot;number-borderd-lg&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>But it is very easy to write your own custom renderer. See
<a class="reference internal" href="#custom-renderer"><span class="std std-ref">Write custom renderes</span></a> for more details on writing custom renderes and
<a class="reference internal" href="usage.html#conf-custom-renderer"><span class="std std-ref">Use Custom renderers</span></a> on how to use them for rendering in your form.</p>
<div class="section" id="label">
<h4>Label<a class="headerlink" href="#label" title="Permalink to this headline">¶</a></h4>
<p>The lable tag can be used to have more options to configure the rendering
of the fields label. The label tag can be seen as a configuration
option of the renderer:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">renderer</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">label</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;left&quot;</span> <span class="n">align</span><span class="o">=</span><span class="s2">&quot;right&quot;</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;4&quot;</span><span class="o">/&gt;</span>
    <span class="o">...</span>
<span class="o">&lt;/</span><span class="n">renderer</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The label tag is only used to configure the position, alignment and the
width of the label. The text of the label is still configured in the
entitiy.</p>
<table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="96%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>position</td>
<td>The position of the label realtive to the field element. Can be &#8220;left&#8221;, &#8220;top&#8221;, &#8220;right&#8221;. Defaults to &#8220;top&#8221;.</td>
</tr>
<tr class="row-odd"><td>align</td>
<td>The alignment of the text in the label. This only applies for labels with position set to &#8220;left&#8221; or &#8220;right&#8221;. Can be &#8220;left&#8221; and &#8220;right&#8221;. Defaults to &#8220;left&#8221;.</td>
</tr>
<tr class="row-even"><td>width</td>
<td>The width of the label in cols. The whole field including the label can be deived into 12 cols. If the label has e.g 4 cols the field will automatically take the remaining 8 cols. This only applies for labels with position set to &#8220;left&#8221; or &#8220;right&#8221;.</td>
</tr>
<tr class="row-odd"><td>number</td>
<td>The position of the small number (if set) in the label. Can be <cite>left</cite> or <cite>right</cite> Defaults to <cite>left</cite>.</td>
</tr>
<tr class="row-even"><td>background</td>
<td>Optional if set to true the label will get a light backgroud color.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="layout">
<span id="id6"></span><h2>Layout<a class="headerlink" href="#layout" title="Permalink to this headline">¶</a></h2>
<p>The form directive is the place where the form definition and layout happens.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">You can define more than one form in one configuration. This gets very
handy if you want to define different forms for differen purposes. Example:
You have a form to create a new item with a reduced set of fields. Another
form which has all fields included can be used to edit the item.</p>
</div>
<p>Forms are built by using references to the defined entities packed in some
layout directives:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">form</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;create&quot;</span> <span class="n">css</span><span class="o">=</span><span class="s2">&quot;fooish&quot;</span> <span class="n">autocomplete</span><span class="o">=</span><span class="s2">&quot;off&quot;</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">enctype</span><span class="o">=</span><span class="s2">&quot;multipart/form-data&quot;</span><span class="o">&gt;</span>
<span class="o">...</span>
<span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>Unique id of the field.</td>
</tr>
<tr class="row-odd"><td>css</td>
<td>The attribute will be added to the <em>class</em> attribute of the form.</td>
</tr>
<tr class="row-even"><td>autocomplete</td>
<td>Flag to indicate if the form should be autocompleted by the browser. Defaults to <code class="docutils literal"><span class="pre">on</span></code>.</td>
</tr>
<tr class="row-odd"><td>method</td>
<td>HTTP method used to submit the data. Defaults to POST.</td>
</tr>
<tr class="row-even"><td>action</td>
<td>URL where is submitted data is sent to. Default to the current URL.</td>
</tr>
<tr class="row-odd"><td>enctype</td>
<td>Encrytion used while sending the data. Defaults to <code class="docutils literal"><span class="pre">application/x-www-form-urlencoded</span></code>. Use <code class="docutils literal"><span class="pre">multipart/form-data</span></code> if you plan to submit file uploads.</td>
</tr>
</tbody>
</table>
<div class="section" id="buttons">
<h3>Buttons<a class="headerlink" href="#buttons" title="Permalink to this headline">¶</a></h3>
<p>Optional directive within the form tag to configure custom buttons for the
form. If not defined the default Submit and Reset Buttons are renderered:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">buttons</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;delete&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;_submit&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;warning&quot;</span> <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;glyphicon glyphicon-delete&quot;</span><span class="o">&gt;</span><span class="n">Delete</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
  <span class="o">...</span>
<span class="o">&lt;/</span><span class="n">buttons</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Buttons are rendererd at the bottom of the form element.
The first button in the definition will be the first button on the left side.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>Optional. Type of action the button will trigger on the form (submit, reset). Defaults to <code class="docutils literal"><span class="pre">submit</span></code></td>
</tr>
<tr class="row-odd"><td>value</td>
<td>Optional. Value which is submitted in the form. Defaults to the buttons text.</td>
</tr>
<tr class="row-even"><td>name</td>
<td>Optional. Name under which the value will be available in the submitted data Defaults to <code class="docutils literal"><span class="pre">_$type</span></code>.</td>
</tr>
<tr class="row-odd"><td>class</td>
<td>Optional. CSS class which will be added to the button.</td>
</tr>
<tr class="row-even"><td>icon</td>
<td>Optional. Definition of glyphicons which will be displayed before the buttons label.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="page">
<h3>Page<a class="headerlink" href="#page" title="Permalink to this headline">¶</a></h3>
<p>Use pages if you want to divide your form into multiple pages. Pages are
rendered as a separate outline of the form on the left site to navigate
through the form pages.</p>
</div>
<div class="section" id="row-col">
<h3>Row, Col<a class="headerlink" href="#row-col" title="Permalink to this headline">¶</a></h3>
<p>Used to layout the form:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">row</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">col</span><span class="o">&gt;&lt;/</span><span class="n">col</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">col</span><span class="o">&gt;&lt;/</span><span class="n">col</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">row</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">row</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">col</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;8&quot;</span><span class="o">&gt;&lt;/</span><span class="n">col</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">col</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">col</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">col</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;&lt;/</span><span class="n">col</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">row</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The form is divided into 12 virtual cols. The width of each col is calculated
automatically. A single in a row will have the full width of 12. For 2 cols in
a row each col will have a width of 6 cols. If you define 3 cols each col will
have a width of 4 and so on.</p>
<p>You can alternatively define the <em>width</em> of the col. If you provide the width of
the col you need to take care that the sum of all cols in the row is 12 to not
mess up the layout.</p>
<p>Rows and cols can be mixed. So rows can be in cols again.</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>width</td>
<td>Width of the col (1-12).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sections">
<h3>Sections<a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h3>
<p>Sections can be used to divide a page in logical sections. This is very
similar to the fieldsets:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">section</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;1. Section&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">subsection</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;1.1 Subsection&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">row</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">col</span><span class="o">&gt;&lt;/</span><span class="n">col</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">col</span><span class="o">&gt;&lt;/</span><span class="n">col</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">row</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">subsubsection</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;1.1.1 Subsubsection&quot;</span><span class="o">&gt;</span>
        <span class="o">...</span>
    <span class="o">&lt;/</span><span class="n">subsubsection</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">subsection</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">section</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Every section will genereate a HTML header tag. Formbar supports up to three
levels of sections.</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>label</td>
<td>Label of the fieldset rendered as header.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="fieldset">
<h3>Fieldset<a class="headerlink" href="#fieldset" title="Permalink to this headline">¶</a></h3>
<p>A fieldset can be used to group fields into a logical unit a fieldset will
have a label which is rendered as a heading above the first field of the
fieldset.  Fieldsets can be nested to model some kind of hierarchy. Formbar
supports up to three levels. The size of the font in the fieldset legend will
be reduced a littlebit on every level.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">fieldset</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;1. Foo&quot;</span><span class="o">&gt;</span>
<span class="o">...</span>
  <span class="o">&lt;</span><span class="n">fieldset</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;1.1 Bar&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">row</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">col</span><span class="o">&gt;&lt;/</span><span class="n">col</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">col</span><span class="o">&gt;&lt;/</span><span class="n">col</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">row</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">fieldset</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">fieldset</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>A fieldset can include almost all other directives.</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>label</td>
<td>Label of the fieldset rendered as header.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="text">
<h3>Text<a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h3>
<p>Text can be used to add some simple text information in the form. It does not
support any formatting of the text. If you need more formatting please use the
html renderer:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">row</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">col</span><span class="o">&gt;&lt;</span><span class="n">text</span><span class="o">&gt;</span><span class="n">Hello</span> <span class="n">I</span><span class="s1">&#39;m Text&lt;/text&gt;&lt;/col&gt;</span>
  <span class="o">&lt;</span><span class="n">col</span><span class="o">&gt;&lt;</span><span class="n">text</span><span class="o">&gt;</span><span class="n">Hello</span> <span class="n">I</span><span class="s1">&#39;m a seconds Text&lt;/text&gt;&lt;/col&gt;</span>
<span class="o">&lt;/</span><span class="n">row</span><span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>color</td>
<td>Color of the text. Possible options: &#8220;muted&#8221;, &#8220;warning&#8221;, &#8220;danger&#8221;, &#8220;info&#8221;, &#8220;primary&#8221;, &#8220;success&#8221;. Defaults to no change of the current text color.</td>
</tr>
<tr class="row-odd"><td>bg</td>
<td>Color of the background. Possible options: &#8220;warning&#8221;, &#8220;danger&#8221;, &#8220;info&#8221;, &#8220;primary&#8221;, &#8220;success&#8221;. Defaults to render no background.</td>
</tr>
<tr class="row-even"><td>em</td>
<td>Emphasis of the text. Possible options: &#8220;strong&#8221;, &#8220;small&#8221;, &#8220;em&#8221; (italic). Defaults to no emphasis.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="table">
<h3>Table<a class="headerlink" href="#table" title="Permalink to this headline">¶</a></h3>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Tables should not be used to layout the form!</p>
</div>
<p>Tables can be used to arrange your fields in a tabuluar form. This becomes
handy in some situations e.g to build your own widget:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">table</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Criteria</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Male</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Female</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">td</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;70%&quot;</span><span class="o">&gt;</span><span class="n">Number</span> <span class="n">of</span> <span class="n">humans</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">world</span><span class="o">&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;&lt;</span><span class="n">field</span> <span class="n">ref</span><span class="o">=</span><span class="s2">&quot;men&quot;</span><span class="o">/&gt;&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;&lt;</span><span class="n">field</span> <span class="n">ref</span><span class="o">=</span><span class="s2">&quot;women&quot;</span><span class="o">/&gt;&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;&lt;</span><span class="n">field</span> <span class="n">ref</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="o">/&gt;&lt;/</span><span class="n">td</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">table</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Tables are usually used in the same way as <a class="reference internal" href="#field"><span class="std std-ref">Field</span></a> is used. Tables will
take 100% of the available space. You can set the <code class="docutils literal"><span class="pre">width</span></code> attribute of the
&lt;td&gt; field to configure the width of the columns. The width of the
column can be set to % or pixel.</p>
<p>The following attributes are supported for the <code class="docutils literal"><span class="pre">td</span></code> and <code class="docutils literal"><span class="pre">th</span></code> tags of the
table: <code class="docutils literal"><span class="pre">width</span></code>, <code class="docutils literal"><span class="pre">class</span></code> , <code class="docutils literal"><span class="pre">rowspan</span></code>, <code class="docutils literal"><span class="pre">colspan</span></code>.</p>
</div>
<div class="section" id="html">
<h3>HTML<a class="headerlink" href="#html" title="Permalink to this headline">¶</a></h3>
<p>The html directive is used to insert custom html code. This is usefull if you
want to render generic text sections icluding lists or other markup elements
linke images. Images will need a external source for the image file.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
 <span class="o">&lt;</span><span class="n">ul</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;padding:15px&quot;</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="n">List</span> <span class="n">item</span> <span class="mi">1</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="n">List</span> <span class="n">item</span> <span class="mi">2</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="n">List</span> <span class="n">item</span> <span class="mi">3</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
 <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The content of the html directive will be rendererd as defined so you are free
to include whatever you want.</p>
</div>
<div class="section" id="field">
<span id="id7"></span><h3>Field<a class="headerlink" href="#field" title="Permalink to this headline">¶</a></h3>
<p>A field in the form. The field only references an <a class="reference internal" href="#entity"><span class="std std-ref">Entity</span></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">field</span> <span class="n">ref</span><span class="o">=</span><span class="s2">&quot;f1&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ref</td>
<td>id if the referenced <a class="reference internal" href="#entity"><span class="std std-ref">Entity</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="conditional">
<h3>Conditional<a class="headerlink" href="#conditional" title="Permalink to this headline">¶</a></h3>
<p>Conditional can be used to hide, or render form elements like fields,
tables, fieldsets and text elements within the conditional as readonly
elements.</p>
<p>If the condition must evaluate to true or false. If true, the elements are
rendered normal. If the condition is false the effect is determined by the
type of the conditional. On default the elements will be hidden completely. As
alternative you can set the type of the conditional to &#8220;readonly&#8221;. Currently
only the type &#8220;readonly&#8221; are supported. Expample:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="k">if</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;readonly&quot;</span> <span class="n">expr</span><span class="o">=</span><span class="s2">&quot;$fieldname == 4&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">field</span> <span class="n">ref</span><span class="o">=</span><span class="s2">&quot;r1&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="k">if</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>In the example above the referenced field will be shown if the field in the
form with the name &#8220;fieldname&#8221; has the value of 4. Else the element will
be set to readonly and the element will have a lowered opacity.</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>Effect of the conditional if the condition evaluates to false.  Defaults to <code class="docutils literal"><span class="pre">hide</span></code>.</td>
</tr>
<tr class="row-odd"><td>expr</td>
<td>The expression which will be evaluated.</td>
</tr>
<tr class="row-even"><td>static</td>
<td>Flag disable dynamic clientsided evaluation of the conditional. Defaults to <code class="docutils literal"><span class="pre">false</span></code>.</td>
</tr>
<tr class="row-odd"><td>reset-value</td>
<td>If <cite>true</cite> than the value of all fields with in the conditional will be removed . Defaults to <code class="docutils literal"><span class="pre">false</span></code>.</td>
</tr>
</tbody>
</table>
<p>Conditionals are evaluated using JavaScript on the client side. Formbar also
needs to evaluate the conditional internal on validation to determine which
values will be taken into account while validating. As result validation rules
will not be applied for &#8220;hidden&#8221; fields.</p>
</div>
<div class="section" id="snippet">
<span id="id8"></span><h3>Snippet<a class="headerlink" href="#snippet" title="Permalink to this headline">¶</a></h3>
<p>Snippets are reusable parts of your form definiton. Snippets allow you to
define parts of the form only once and use them in multiple forms.
Example: If you want to use the same form to create and edit than you can
define the form in a snippet and use it in the create and edit form:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">form</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">snippet</span> <span class="n">ref</span><span class="o">=</span><span class="s2">&quot;s1&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">form</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">snippet</span> <span class="n">ref</span><span class="o">=</span><span class="s2">&quot;s1&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">snippet</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;s1&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">row</span><span class="o">&gt;...&lt;/</span><span class="n">row</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">snippet</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Snippet needs to be in a form to get rendered. Snippets can reference other
snippets using the <code class="docutils literal"><span class="pre">ref</span></code> attribute. Snippets are of great help if you want
to reduced the effort of rearranging groups of elements in the form. But on
the other side the can make the form quite complicated if you use them too
much. Use them with care.</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>Unique id of the snippet</td>
</tr>
<tr class="row-odd"><td>ref</td>
<td>References the snippet with id.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="renderers">
<span id="formbar-renderers"></span><h2>Renderers<a class="headerlink" href="#renderers" title="Permalink to this headline">¶</a></h2>
<p>Usually the renderer for a field is chosen automatically from formbar based on
the datatype. But you can define an alternative renderer. Below you can the
the available default renderers in ringo. If you need custom renderers the
refer to <a class="reference internal" href="#custom-renderer"><span class="std std-ref">Write custom renderes</span></a></p>
<div class="section" id="textarea">
<h3>Textarea<a class="headerlink" href="#textarea" title="Permalink to this headline">¶</a></h3>
<p>Use this renderer if you want to render the field as a textfield:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;textarea&quot;</span> <span class="n">rows</span><span class="o">=</span><span class="s2">&quot;20&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="96%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>rows</td>
<td>Number of rows of the texteare. Default is 3.</td>
</tr>
<tr class="row-odd"><td>maxlength</td>
<td>Number of chars &#8220;allowed&#8221;. If set a small indicator below the textarea is show indicating how many chars are left.  Please note that this does <strong>not</strong> triggers any rules. Rules to enforce this maxlength must be defined too.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="infofield">
<h3>Infofield<a class="headerlink" href="#infofield" title="Permalink to this headline">¶</a></h3>
<p>The info field renderer is used to render the value of the entity as
textual information. This renderer is usually used to display calculated
values of the entity. See the <code class="docutils literal"><span class="pre">expr</span></code> attribute of the <a class="reference internal" href="#entity"><span class="std std-ref">Entity</span></a>. If you
simply want to display a static value comming from on of the items attribute
you can also use the <code class="docutils literal"><span class="pre">value</span></code> attribute.
Appearance is same as a readonly field:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;infofield&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="selection">
<span id="id9"></span><h3>Selection<a class="headerlink" href="#selection" title="Permalink to this headline">¶</a></h3>
<p>The selection renderer is used to render a selection list fields. Such a field
is capable to select multiple options. The renderer defines also the options
which should be available in the dropdown menu. For SQLAlchemy mapped items
the options are automatically determined from the underlying data model:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;entity&gt;
  &lt;renderer type=&quot;selection&quot;/&gt;
  &lt;!-- Note, that the options are part of the entity! --&gt;
  &lt;options&gt;
     &lt;option value=&quot;1&quot;&gt;Option 1&lt;/option&gt;
     &lt;option value=&quot;2&quot;&gt;Option 2&lt;/option&gt;
     &lt;option value=&quot;3&quot;&gt;Option 3&lt;/option&gt;
  &lt;/options&gt;
&lt;/entity&gt;
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>filter</td>
<td>Expression which must evaluate to True if the option should be shown in the Dropdown.</td>
</tr>
<tr class="row-odd"><td>remove_filtered</td>
<td>Flag &#8220;true/false&#8221; to indicate that filtered items should not be rendered at all. On default filtered items will only be hidden and selection is still present.</td>
</tr>
</tbody>
</table>
<p>Filtering can be done by defining a expression in the filter attribute. This
expression is later evaluated by the rule system of formbar. The expression
must evaluate to true and is evaluated for every option. The expression uses a
two special variables begining with</p>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">%</span></code>.  Variables beginning with % marks the options of the
selection. <code class="docutils literal"><span class="pre">%attr</span></code> will access a attribute named &#8216;attr&#8217; in the
option. A single <code class="docutils literal"><span class="pre">%</span></code> can be used on userdefined options to access
the value of the option. For SQLAlchemy based options comming from
the database <code class="docutils literal"><span class="pre">%</span></code> can be used to access a attribute of the option.
E.g &#8216;%id&#8217; will access the id attribute of the option.  The variable
will be replaced by the value of the attribute of the current item in
the option for every option before evaluating.</li>
</ol>
<p>2. <code class="docutils literal"><span class="pre">&#64;</span></code>. Varaible beginning with &#64; marks the name of an attribute of
the parents form item.</p>
<ol class="arabic simple" start="3">
<li><code class="docutils literal"><span class="pre">$</span></code>. Varaible beginning with $ marks the name of field in the form.</li>
</ol>
<p>All variables support accessing related items through the dot-syntax:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;selection&quot;</span> <span class="nb">filter</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%f</span><span class="s2">oo eq @bar.baz&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="dropdown">
<span id="id10"></span><h3>Dropdown<a class="headerlink" href="#dropdown" title="Permalink to this headline">¶</a></h3>
<p>The dropdown renderer is used to render dropdown fields. The renderer defines
also the options which should be available in the dropdown menu. For
SQLAlchemy mapped items the options are automatically determined from the
underlying data model:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;dropdown&quot;</span><span class="o">/&gt;</span>
   <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">1</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">2</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">3</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
   <span class="o">&lt;/</span><span class="n">options</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>filter</td>
<td>Expression which must evaluate to True if the option should be shown in the Dropdown.</td>
</tr>
<tr class="row-odd"><td>remove_filtered</td>
<td>Flag &#8220;true/false&#8221; to indicate that filtered items should not be rendered at all. On default filtered items will only be hidden and selection is still present.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Filtering is only possible for SQLAlchemy mapped items.</p>
</div>
<p>See filtering section of the <a class="reference internal" href="#selection"><span class="std std-ref">Selection</span></a> renderer.</p>
</div>
<div class="section" id="radio">
<h3>Radio<a class="headerlink" href="#radio" title="Permalink to this headline">¶</a></h3>
<p>The radio renderer is used to render radio fields based on the given options.
Such a field is capable to select only one option. For SQLAlchemy mapped
items the options are automatically determined from the underlying data
model. The radionfields will be aligned in a horizontal row:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;radio&quot;</span><span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">1</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">2</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">3</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">options</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>filter</td>
<td>Expression which must evaluate to True if the option shoul be shown in the Dropdown.</td>
</tr>
<tr class="row-odd"><td>align</td>
<td>Alignment of the checkboxes. Can be &#8220;vertical&#8221; or &#8220;horizontal&#8221;. Defaults to &#8220;horizontal&#8221;.</td>
</tr>
</tbody>
</table>
<p>See filtering section of the <a class="reference internal" href="#dropdown"><span class="std std-ref">Dropdown</span></a> renderer.</p>
</div>
<div class="section" id="checkbox">
<h3>Checkbox<a class="headerlink" href="#checkbox" title="Permalink to this headline">¶</a></h3>
<p>The checkbox renderer is used to render checkbox fields based on the given options.
Such a field is capable to multiple options. For SQLAlchemy mapped
items the options are automatically determined from the underlying data
model. The checkboxes will be aligned in a horizontal row:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span><span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">1</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">2</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">3</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">options</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>filter</td>
<td>Expression which must evaluate to True if the option shoul be shown in the Dropdown.</td>
</tr>
<tr class="row-odd"><td>remove_filtered</td>
<td>Flag &#8220;true/false&#8221; to indicate that filtered items should not be rendered at all. On default filtered items will only be hidden and selection is still present.</td>
</tr>
<tr class="row-even"><td>align</td>
<td>Alignment of the checkboxes. Can be &#8220;vertical&#8221; or &#8220;horizontal&#8221;. Defaults to &#8220;horizontal&#8221;.</td>
</tr>
</tbody>
</table>
<p>See filtering section of the <a class="reference internal" href="#dropdown"><span class="std std-ref">Dropdown</span></a> renderer.</p>
</div>
<div class="section" id="textoption">
<h3>Textoption<a class="headerlink" href="#textoption" title="Permalink to this headline">¶</a></h3>
<p>A textoption field is basically a selection field which can be used to set
multible values. This type of renderer is often used for adding <cite>tags</cite>. In a
textoption field the values can be entered in a textfield. The textfield has
support for autocompletion which offers the available options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;textoption&quot;</span><span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">1</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">2</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="o">&gt;</span><span class="n">Option</span> <span class="mi">3</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">options</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>In this example the user can enter &#8220;Op&#8221; in the textfield and the
autocompletion will offer all options beginning with &#8220;Op&#8221;. If the users
selects on or more options, the will be set in the background
and submitted on form submission.</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>filter</td>
<td>Expression which must evaluate to True if the option shoul be shown in the Dropdown.</td>
</tr>
<tr class="row-odd"><td>remove_filtered</td>
<td>Flag &#8220;true/false&#8221; to indicate that filtered items should not be rendered at all. On default filtered items will only be hidden and selection is still present.</td>
</tr>
</tbody>
</table>
<p>See filtering section of the <a class="reference internal" href="#dropdown"><span class="std std-ref">Dropdown</span></a> renderer.</p>
</div>
<div class="section" id="datepicker">
<h3>Datepicker<a class="headerlink" href="#datepicker" title="Permalink to this headline">¶</a></h3>
<p>The datepicker renderer has some Javascript functionality which lets the used
pick the date from a calender. It also only allows valid date entries per
keyboard:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;datepicker&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="password">
<h3>Password<a class="headerlink" href="#password" title="Permalink to this headline">¶</a></h3>
<p>The password renderer renderes a password field which hides the users input:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="hidden">
<h3>Hidden<a class="headerlink" href="#hidden" title="Permalink to this headline">¶</a></h3>
<p>The hidden field renderer is used to render a hidden field for the entity. No
labels, helptexts or error messages will be renderer. The hidden field will
also take care on relations for SQLAlchemy mapped items:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;hidden&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h3>Html<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>The html renderer is used to render custom html code. This is usefull if you
want to render generic text sections or insert images. Images will need a
external source for the image file. The html renderer will render Javascript
, Stylesheets and HTML code:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;html&quot;</span><span class="o">&gt;</span>
 <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">You</span> <span class="n">can</span> <span class="n">include</span> <span class="nb">all</span> <span class="n">valid</span> <span class="n">html</span> <span class="n">including</span> <span class="n">images</span><span class="p">,</span> <span class="n">lists</span> <span class="n">etc</span><span class="o">.&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;</span><span class="n">strong</span><span class="o">&gt;</span><span class="ne">Warning</span><span class="p">:</span><span class="o">&lt;/</span><span class="n">strong</span><span class="o">&gt;</span><span class="n">Also</span> <span class="n">JS</span> <span class="n">can</span> <span class="n">be</span> <span class="n">included</span><span class="o">.&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
 <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">renderer</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Your custom code should be wrapped into a empty div node. Otherwise only the
first child node of the renderer will be rendererd.
The entity only needs the id attribute. If a label is provided, the label
will be uses as some kind of header to the html part.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Use this renderer with caution as it may introduce a large security hole if
users inject malicious javascript code into the form using the html renderer.</p>
</div>
</div>
<div class="section" id="formbarformeditor">
<span id="form"></span><h3>FormbarFormEditor<a class="headerlink" href="#formbarformeditor" title="Permalink to this headline">¶</a></h3>
<p>Use this renderer if you want to render a editor for formbar forms. The
Editor will have a preview window which shows the result of the
rendering of the form. If rendering fails, the preview will show the
errors which happened while rendering:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">renderer</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;formbareditor&quot;</span> <span class="n">url</span><span class="o">=</span><span class="s2">&quot;foo/bar&quot;</span> <span class="n">rows</span><span class="o">=</span><span class="s2">&quot;20&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>rows</td>
<td>Number of rows of the textarea. Default is 3.</td>
</tr>
<tr class="row-odd"><td>url</td>
<td>URL which is called to renderer the form.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="metadata-specification">
<span id="metadata"></span><h2>Metadata (Specification)<a class="headerlink" href="#metadata-specification" title="Permalink to this headline">¶</a></h2>
<p>You can add add metadata information to <code class="docutils literal"><span class="pre">configuration</span></code>, <code class="docutils literal"><span class="pre">entity</span></code>,
<code class="docutils literal"><span class="pre">option</span></code>, <code class="docutils literal"><span class="pre">renderer</span></code>, <code class="docutils literal"><span class="pre">rule</span></code>, <code class="docutils literal"><span class="pre">form</span></code>, <code class="docutils literal"><span class="pre">snippet</span></code> elements of the
form.</p>
<p>Metadata can be used to build some kind of specification of the form. This
data can be used by the <code class="docutils literal"><span class="pre">formspec.py</span></code> command to generate a specification of
the form.</p>
<p>Every metadata block will look like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">metadata</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">meta</span> <span class="n">attrib</span><span class="o">=</span><span class="s2">&quot;example&quot;</span> <span class="n">date</span><span class="o">=</span><span class="s2">&quot;YYYYMMDD&quot;</span><span class="o">&gt;&lt;/</span><span class="n">meta</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">metadata</span><span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>attrib</td>
<td>Classification of the metaattribute.</td>
</tr>
<tr class="row-odd"><td>label</td>
<td>Optional. Used for the <cite>free</cite> classification to provide a label.</td>
</tr>
<tr class="row-even"><td>date</td>
<td>Date of the entry</td>
</tr>
</tbody>
</table>
<p>The following classification are available:</p>
<dl class="docutils">
<dt><cite>change</cite></dt>
<dd>Documentation of change made to the element (may appear multiple times)</dd>
<dt><cite>comment</cite></dt>
<dd><p class="first">Additional comments to the element.</p>
<p class="last">Comments which are applicable to the whole document which will be printed
at the top of the RST document (may appear multiple times).</p>
</dd>
<dt><cite>desc</cite></dt>
<dd>General plain-language description of the element(unique).</dd>
<dt><cite>free</cite></dt>
<dd><p class="first">Required additional attributes: <code class="docutils literal"><span class="pre">label</span></code></p>
<p class="last">General purpose metadata field which allows custom labels (may appear
multiple times).</p>
</dd>
<dt><cite>intro</cite></dt>
<dd>An introductory text applicable to the whole document which will be printed
at the top of the RST document (unique).</dd>
</dl>
<p>All meta items must contain a <code class="docutils literal"><span class="pre">date</span></code> attribute in the format <code class="docutils literal"><span class="pre">YYYYMMDD</span></code>.</p>
<div class="section" id="entities">
<h3>Entities<a class="headerlink" href="#entities" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">metadata</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">meta</span> <span class="n">attrib</span><span class="o">=</span><span class="s2">&quot;change&quot;</span> <span class="n">date</span><span class="o">=</span><span class="s2">&quot;20150820&quot;</span><span class="o">&gt;</span><span class="n">Customer</span> <span class="n">request</span><span class="p">:</span> <span class="n">Changed</span> <span class="n">label</span> <span class="n">of</span> <span class="n">field</span> <span class="n">to</span> <span class="n">Foo</span><span class="o">&lt;/</span><span class="n">meta</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">meta</span> <span class="n">attrib</span><span class="o">=</span><span class="s2">&quot;change&quot;</span> <span class="n">date</span><span class="o">=</span><span class="s2">&quot;20150826&quot;</span><span class="o">&gt;</span><span class="n">Customer</span> <span class="n">request</span><span class="p">:</span> <span class="n">Changed</span> <span class="n">label</span> <span class="n">of</span> <span class="n">field</span> <span class="n">to</span> <span class="n">Bar</span><span class="o">&lt;/</span><span class="n">meta</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">metadata</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="rules">
<h3>Rules<a class="headerlink" href="#rules" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">rule</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">metadata</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">meta</span> <span class="n">attrib</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span> <span class="n">date</span><span class="o">=</span><span class="s2">&quot;20150820&quot;</span><span class="o">&gt;</span><span class="n">Is</span> <span class="kc">True</span> <span class="n">when</span> <span class="n">Foo</span> <span class="ow">is</span> <span class="n">larger</span> <span class="n">than</span> <span class="n">Bar</span><span class="o">&lt;/</span><span class="n">meta</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">meta</span> <span class="n">attrib</span><span class="o">=</span><span class="s2">&quot;change&quot;</span> <span class="n">date</span><span class="o">=</span><span class="s2">&quot;20150826&quot;</span><span class="o">&gt;</span><span class="n">Customer</span> <span class="n">request</span><span class="p">:</span> <span class="n">Added</span> <span class="n">rule</span> <span class="n">to</span> <span class="n">check</span> <span class="n">value</span> <span class="n">of</span> <span class="n">Foo</span><span class="o">&lt;/</span><span class="n">meta</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">metadata</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">rule</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="document-metadata-configuration-root-metadata">
<h3>Document metadata (<code class="docutils literal"><span class="pre">&lt;configuration&gt;</span></code>/Root Metadata)<a class="headerlink" href="#document-metadata-configuration-root-metadata" title="Permalink to this headline">¶</a></h3>
<p>The main <code class="docutils literal"><span class="pre">&lt;configuration&gt;</span></code> element may contain metadata (<em>root metadata</em>)
which is relevant to the whole document.  This information will be formatted
as a preamble to the RST output</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">configuration</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">metadata</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">meta</span> <span class="n">attrib</span><span class="o">=</span><span class="s2">&quot;intro&quot;</span> <span class="n">date</span><span class="o">=</span><span class="s2">&quot;20150820&quot;</span><span class="o">&gt;</span><span class="n">This</span> <span class="n">text</span> <span class="n">will</span> <span class="n">be</span> <span class="n">rendererd</span> <span class="k">as</span> <span class="n">preamble</span><span class="o">.&lt;/</span><span class="n">meta</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">meta</span> <span class="n">attrib</span><span class="o">=</span><span class="s2">&quot;comment&quot;</span> <span class="n">date</span><span class="o">=</span><span class="s2">&quot;20150826&quot;</span><span class="o">&gt;</span><span class="n">Adapted</span> <span class="nb">all</span> <span class="n">labels</span> <span class="n">to</span> <span class="n">fullfill</span> <span class="n">gender</span> <span class="n">mainstreaming</span> <span class="n">requirements</span><span class="o">.&lt;/</span><span class="n">meta</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">metadata</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">source</span><span class="o">&gt;</span>
   <span class="o">...</span>
  <span class="o">&lt;/</span><span class="n">source</span><span class="o">&gt;</span>
  <span class="o">...</span>
<span class="o">&lt;/</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="write-custom-renderes">
<span id="custom-renderer"></span><h2>Write custom renderes<a class="headerlink" href="#write-custom-renderes" title="Permalink to this headline">¶</a></h2>
<p>Formbar makes it easy to create a custom renderer. All you need to to is
to overwrite the <a class="reference internal" href="api.html#formbar.renderer.FieldRenderer" title="formbar.renderer.FieldRenderer"><code class="xref py py-class docutils literal"><span class="pre">FieldRenderer</span></code></a> class. In most cases you only
need to provide a new Template for your field which handles to main
rendering. As example see <a class="reference internal" href="api.html#formbar.renderer.InfoFieldRenderer" title="formbar.renderer.InfoFieldRenderer"><code class="xref py py-class docutils literal"><span class="pre">InfoFieldRenderer</span></code></a> how to set a new
template.</p>
</div>
<div class="section" id="write-external-validators">
<span id="external-validator"></span><h2>Write external validators<a class="headerlink" href="#write-external-validators" title="Permalink to this headline">¶</a></h2>
<p>A external validator is a simple python callable of the following form:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">external_validator</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">16</span> <span class="o">==</span> <span class="n">data</span><span class="p">[</span><span class="n">field</span><span class="p">]</span>
</pre></div>
</div>
<p>The value &#8216;data&#8217; is the converted value dictionary of the form and
contains all values of the form. The value &#8216;field&#8217; defines the name of
the field for which this validation belongs to and also determines on
which field the error message will be shown.</p>
<p>The function should return True or False on validation. The validator
can be added in two differen ways.</p>
<div class="section" id="in-the-formconfig">
<h3>In the formconfig<a class="headerlink" href="#in-the-formconfig" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="#validator"><span class="std std-ref">Validator</span></a> for more details.</p>
</div>
<div class="section" id="in-the-view">
<h3>In the view<a class="headerlink" href="#in-the-view" title="Permalink to this headline">¶</a></h3>
<p>Another way to add validator to the form is to add the form in the view after
the form has been initialized:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">validator</span> <span class="o">=</span> <span class="n">Validator</span><span class="p">(</span><span class="s1">&#39;fieldname&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;Error message&#39;</span><span class="p">,</span>
                      <span class="n">external_validator</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">add_validator</span><span class="p">(</span><span class="n">validator</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="includes">
<span id="id12"></span><h2>Includes<a class="headerlink" href="#includes" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.17.0.</span></p>
</div>
<p>Includes are used to include the content of a different file into the current
configuration. The included file may contain <a class="reference internal" href="#entity"><span class="std std-ref">Entity</span></a> definition or parts
of the <a class="reference internal" href="#layout"><span class="std std-ref">Layout</span></a> like a single <a class="reference internal" href="#snippet"><span class="std std-ref">Snippet</span></a>. The include will be
replaced with the content of the of the included file.</p>
<p>A include can be placed at any location of the form configuration and looks
like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">include</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;path/to/form/config.xml&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>src</td>
<td>Location of the configuration file which should be included</td>
</tr>
<tr class="row-odd"><td>element</td>
<td>Only include a single element form the XML file defined in src. The element is referenced by its id.</td>
</tr>
<tr class="row-even"><td>entity-prefix</td>
<td>Prefix of the name of the entity fieldname</td>
</tr>
</tbody>
</table>
<p>The include file must be a valid XML file. The content of the include file can
be wrapped into a <cite>configuration</cite> tag:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;configuration&gt;
        ... Content ...
&lt;/configuration&gt;
</pre></div>
</div>
<p class="rubric" id="supported-urls">Supported URL formats</p>
<p>The location of the file can be defined in three ways:</p>
<ol class="arabic simple">
<li>As a path relatice to the current XML file.</li>
<li>As a absoulte path (Path is begining with an &#8220;/&#8221;).</li>
<li>Package relative. Example: <em>&#64;foo/path/to/form/config.xml</em>. Formbar
will evaluate the path to the package <em>foo</em> and replaces the
packagage location with the &#64;foo placeholder</li>
</ol>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p class="rubric">Include options</p>
<p>Includes can be handy to outsource parts of the form definition into its own
file. This is especially useful when the outsourced parts are potentially
reused in multiple places. Think of a long list of options within a entity:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entity</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;country&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;country&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;integer&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">include</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;./countries.xml&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;4&quot;</span><span class="o">&gt;</span><span class="n">Value</span> <span class="mi">4</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The include file looks like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;configuration&gt;
    &lt;option value=&quot;1&quot;&gt;Value 1&lt;/option&gt;
    &lt;option value=&quot;2&quot;&gt;Value 2&lt;/option&gt;
    &lt;option value=&quot;3&quot;&gt;Value 3&lt;/option&gt;
&lt;/configuration&gt;
</pre></div>
</div>
<p>This way you can keep your form definition clean and short and maintain the
countries in a separate file.</p>
</div>
</div>
<div class="section" id="inheritance">
<span id="id13"></span><h2>Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.17.0.</span></p>
</div>
<p>Inheritance can be used to build a form based on another parent form. The
inherited form will takeover all properties of the parent form, but can add or
modify properties.</p>
<p>An inherited form looks like a usual form, but adds a <cite>inherits</cite> attribute in
the <cite>configuration</cite> section:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;configuration inherits=&quot;./parent.xml&quot;&gt;
   &lt;source&gt;
   &lt;!-- Add or modify entities --&gt;
   &lt;/source&gt;
   &lt;form&gt;
   &lt;!-- Add or modify forms --&gt;
   &lt;/form&gt;
   &lt;snippet&gt;
   &lt;!-- Add or modify snippets --&gt;
   &lt;/snippet&gt;
&lt;/configuration&gt;
</pre></div>
</div>
<p>The <cite>source</cite>, <cite>form</cite> and <cite>snippet</cite> section is optional and are only needed if
this section needs to be modified.</p>
<p>Inheritance can only be applied on elements in the form which have an <cite>id</cite>.
This is because the id is used to identify to elements in the parent form.</p>
<p>To overwrite an element of the parent form you need to add an element with the
same id in the inherited form. This will replace the element including all
attributes and subelements.</p>
<p>To add new elements, you simply need to at a new element with an id which
isn&#8217;t already defined in the parent form. The new element will be appended at
the end of the related section/part of the form.</p>
<p>Removing elements in the inherited form is not supported.</p>
<p>See <a class="reference internal" href="#supported-urls"><span class="std std-ref">supported URL formats</span></a> for more information on how to refer to the
inherited file.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Form configuration</a><ul>
<li><a class="reference internal" href="#datamodel">Datamodel</a><ul>
<li><a class="reference internal" href="#entity">Entity</a><ul>
<li><a class="reference internal" href="#defaults">Defaults</a></li>
</ul>
</li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#rule">Rule</a></li>
<li><a class="reference internal" href="#validator">Validator</a></li>
<li><a class="reference internal" href="#help">Help</a></li>
<li><a class="reference internal" href="#renderer">Renderer</a><ul>
<li><a class="reference internal" href="#label">Label</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#layout">Layout</a><ul>
<li><a class="reference internal" href="#buttons">Buttons</a></li>
<li><a class="reference internal" href="#page">Page</a></li>
<li><a class="reference internal" href="#row-col">Row, Col</a></li>
<li><a class="reference internal" href="#sections">Sections</a></li>
<li><a class="reference internal" href="#fieldset">Fieldset</a></li>
<li><a class="reference internal" href="#text">Text</a></li>
<li><a class="reference internal" href="#table">Table</a></li>
<li><a class="reference internal" href="#html">HTML</a></li>
<li><a class="reference internal" href="#field">Field</a></li>
<li><a class="reference internal" href="#conditional">Conditional</a></li>
<li><a class="reference internal" href="#snippet">Snippet</a></li>
</ul>
</li>
<li><a class="reference internal" href="#renderers">Renderers</a><ul>
<li><a class="reference internal" href="#textarea">Textarea</a></li>
<li><a class="reference internal" href="#infofield">Infofield</a></li>
<li><a class="reference internal" href="#selection">Selection</a></li>
<li><a class="reference internal" href="#dropdown">Dropdown</a></li>
<li><a class="reference internal" href="#radio">Radio</a></li>
<li><a class="reference internal" href="#checkbox">Checkbox</a></li>
<li><a class="reference internal" href="#textoption">Textoption</a></li>
<li><a class="reference internal" href="#datepicker">Datepicker</a></li>
<li><a class="reference internal" href="#password">Password</a></li>
<li><a class="reference internal" href="#hidden">Hidden</a></li>
<li><a class="reference internal" href="#id11">Html</a></li>
<li><a class="reference internal" href="#formbarformeditor">FormbarFormEditor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#metadata-specification">Metadata (Specification)</a><ul>
<li><a class="reference internal" href="#entities">Entities</a></li>
<li><a class="reference internal" href="#rules">Rules</a></li>
<li><a class="reference internal" href="#document-metadata-configuration-root-metadata">Document metadata (<code class="docutils literal"><span class="pre">&lt;configuration&gt;</span></code>/Root Metadata)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#write-custom-renderes">Write custom renderes</a></li>
<li><a class="reference internal" href="#write-external-validators">Write external validators</a><ul>
<li><a class="reference internal" href="#in-the-formconfig">In the formconfig</a></li>
<li><a class="reference internal" href="#in-the-view">In the view</a></li>
</ul>
</li>
<li><a class="reference internal" href="#includes">Includes</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inheritance">Inheritance</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="start.html"
                        title="previous chapter">Getting Started</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="usage.html"
                        title="next chapter">Usage</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/config.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             >next</a> |</li>
        <li class="right" >
          <a href="start.html" title="Getting Started"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Formbar 0.20.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2013, 2014, 2015, 2016 Torsten Irländer.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.5.
    </div>
  </body>
</html>