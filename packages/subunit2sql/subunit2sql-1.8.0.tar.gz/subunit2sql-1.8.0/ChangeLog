CHANGES
=======

1.8.0
-----

* Add new DB API function to get grouped run_time time series
* Add run_metadata filtering to get run_times function
* Add subunit2sql CLI option to use run wall time
* Remove the test_attr_prefix before injecting
* Provide unit test coverage for process_results

1.7.0
-----

* Add DB API function to get list of runs from ids
* Fix the subunit2sql migration and tests error with mysql 5.7
* Add option to ensure get_test_runs_by_test_id() is ordered by date
* Remove discover from test-requirements
* Add new db api method to get recent successes by metadata
* Add get_runs_counts_by_run_metadata()
* Remove useless links from index page
* Fix docs warnings and errors

1.6.0
-----

* Add session param doc of get_recent_failed_runs()
* Move oslo.concurrency to test-requirements
* Add optional start_date parameter to get_recent*() methods
* Add link to published release notes in readme
* Fix db API get_ids_for_all_tests
* Remove cap on oslo.db version
* Fix date format for agg_count and get_test_counts_in_date_range()
* Capitalize first characters in param docs
* Enable returning run id in get_test_runs_by_status_for_run_ids()
* Add db api tests for subunit2sql (3/3)
* Add db api tests for subunit2sql (2/3)
* Add db api tests for subunit2sql (1/3)

1.5.0
-----

* Add api to get recent failed runs by run_metadata
* Fix the typo of docstring
* Fix get_test_metadata to use test_id
* Remove DB existence check from open session termination
* Rework migration 1679b5bc102c to not use the db api
* Terminate sessions before dropping DBs in PostgreSQL
* Add more db api tests part 2
* Fix lock range, again
* Add more db api tests
* Fix lock range
* Remove group regex on .testr.conf
* Add pypi and resource links to README.rst
* Update TODO.rst to point the StoryBoard

1.4.0
-----

* Don't extend the passed in targets
* Remove unused flush from read_subunit()
* Use instance variable in ByteStreamToStreamResult init
* Add API methods for getting tests by prefix

1.3.0
-----

* Add missing release notes before the 1.3.0 release
* Add unit test for api.update_run
* Add DB API method to get failure rate for jobs by run_metadata
* Fix brackets on get_all_runs_time_series_by_key
* Add optional run_metadata filter to get_test_runs_by_test_test_id
* Add stdout to indicate expiring runs operations
* Cleanup to use namedtuple
* Add DB API method to get tests from a list of failed runs
* Omit subunit2sql/tests from coverage
* Remove unused setUp condition

1.2.0
-----

* Disable session synchronization on deletes
* Add release notes for pending 1.2.0 release
* Add DB API method to get a list of recent runs by metadata
* Add min ver to extra libs for graph
* Add command deleting *.pyc before executing ostestr
* Add new graph type to show run_time variance by metadata
* Add tests to check migrations and models match
* Stop using implict joins
* Add missing tests for db api functions with implicit joins
* Fix hard coded filter in get_test_run_series()
* Fix typo in README.rst
* Update the README
* Handle test_runs without metadata in write_subunit
* Enable db api tests on all backends
* Make graph.py just a module
* Add docstrings of test_ids

1.1.1
-----

* Add a migration for another set of index creations

1.1.0
-----

* Fix get_run_metadata to take UUID
* Fix indexes in db models
* Add docstring for run_at
* Properly date filter in get_test_run_dict_by_run_meta_key_value

1.0.2
-----

* Add support to subunit2sql cli to specify a run_at time
* Return Run.uuid in public methods
* Add migration for adding missing indexes
* Fix test attachments DB import

1.0.1
-----

* Set old_alter_table during large mysql migration
* Add seperate page for v1.0.0 release notes
* Add missing relationship from orm models

1.0.0
-----

* Fix documentation before the release
* Fail early if no data is found in the database
* Add reno release notes to subunit2sql
* Add back uuid column for runs table
* Use the test_id column as the test identifier
* Add dates to x-axis for subunit2sql graphs
* Change uuid columns to bigint
* Expose extension interface in shell API
* Example of how to use targets plugins
* Add an extension capability for adding targets
* Add unit tests for subunit2sql.shell.main

0.12.0
------

* Add migration to cleanup and add additional indexes
* Add a db api method to get a list of test_runs by test.test_id
* Fix the delete_old_*() db api functions
* Enable python 3 testing support

0.11.0
------

* Add option to specify global test attr prefix in subunit2sql
* Add db api method to get test_run dicts for runs by key value
* Switch to using autogenerated ChangeLog in docs
* Improve performance of get_runs_by_status_grouped_by_run_metadata
* Add db api methods to get keys from metadata tables
* Test get_runs_by_status_grouped_by_run_metadata API function
* Add migration to fix wrong column name in test_metadata
* Add db api method to get time series of runs by key value metadata
* Add more db api tests
* Use ostestr for running unit tests
* Order get_tests_run_dicts_from_run_id response by date
* Add tests for get_tests_run_dicts_from_run_id() and fix issues
* Fix verbose option inialization
* Fix misspelling in comments
* Add --verbose option to show sql statements generated
* Fix for sqlite support on migrations
* Add DB API testing framework

0.10.0
------

* Add support to more than one db provider for tests
* Fix the filter runs by date helper function
* Add a db api method to get a time series of runs by key
* Clarify DB models devref doc
* Add date filter on runs
* Remove conflicting cmdline option 'r'
* Adds error handling for queries returning no data
* Add DB API methods to deal with test metadata
* Add option to subunit2sql for attr regex
* Add graph to show failure rates grouped by run metadata
* Fix using no dates in create_test_run db api method
* Add mysql index length cap on index creation
* Add logging capture fixture to the unit tests

0.9.0
-----

* Update the in-tree TODO list
* Fix env command path
* Update the changelog in the readme
* Add a DB API method to get failing test_ids by run metadata
* Update API docs to include alternative db layer initialization

0.8.1
-----

* Fix issues in migration 1ff737bef438

0.8.0
-----

* Edits to_dict() to return correct dict
* Adds method to get metadata by key/value pair
* Adds method to get metadata from a run
* Add migration to add indexes on common search patterns
* Don't try to create indexes twice
* Update and fix some minor issues with docs
* Cleanup dailycount graph subunit2sql-graph command
* Update the run_time graph image in docs

0.7.0
-----

* Drop use of 'oslo' namespace package
* Set temporary version cap on oslo.db
* Fix misspelled words in some docs

0.6.0
-----

* Do not use oslo.db 1.12.0
* Add subunit2sql-graph plugin interface docs
* Add external plugin support to subunit2sql-graph
* Fix miss spelled words
* Scale run_time graph in subunit2sql-graph docs
* Switch functools partials usage to kwargs
* Add graph command to graph daily test count over time
* Add support to subunit2sql for storing attachments
* Add attachemnts table to database
* Add release notes for recent releases
* Cleanup std dev backfill in run_time graph
* Add docs about using subunit2sql-graph
* Use setuptools extras for graphing requirements

0.5.1
-----

* Remove matplotlib from requirements file

0.5.0
-----

* Add graph command to show aggregate counts for tests
* Add db api method to get per status counts for a test
* Add db api method to get uuid from test_id
* Improve run_time graph formatting
* Add command to calculate failure count and graph it
* Add db api method to get status time series
* Add modular subunit2sql-graph entry point
* Add start and stop date options to subunit2sql-graph
* Add a cli subcommand for deleting old rows
* Add db api methods to delete old runs and test_runs
* Fix double PL::Python category typo
* Add release notes to the README

0.4.2
-----

* Fix terrible path finding code in 1679b5bc102 migration

0.4.1
-----

* Hard code the sql for mysql on migration 1679b5bc102

0.4.0
-----

* Convert tags metadata to string before persist it
* Add microsecond columns to the test_runs table
* Add db api methods for getting recent run uuids
* Stop using numpy for just a mean
* Share a single connection with all systems during migrations
* Add db_api method for updating an existing test_run
* Improve query efficiency on populate_run_time migration
* Add tool for generating line graphs of test run times
* Add a db api method to extract run_times for a single test

0.3.0
-----

* Ensure we set attrs in test_ids for sql2subunit
* Add a contributing file
* Update TODO file
* Add --average option to sql2subunit cli
* Correct writing of timestampes in write_test() for sql2subunit
* Refactor sql2subunit to use get_tests_run_dicts_from_run_id
* Add new db api methods for getting test data from runs

0.2.1
-----

* Remove unneeded version string from setup.cfg
* Add cli option to subunit2sql to specify run_id
* Add section on the basic data model
* Reorganize the python api documentation
* Flush out the db api documenation
* Add version information
* Fix misspelled words in docs and comments
* Remove unnecessary variable assignment
* Remove openstack-common.conf
* Release subunit2sql 0.2

0.2.0
-----

* Add session objects for get_all* db api calls
* Add migration to populate run_time where needed
* Fix get_duration db api method
* Add db api function to get the latest run
* Add order column to runs table
* Cleanup some extra spaces
* Add sample config files for commands
* Remove unneccesary state_path config option
* Preseed data for migration tests until migration 163fd5aa1380
* Add migration tests with data
* Add manifest file to include base alembic config
* Add subunit2sql-db-manage utility
* Stop using intersphinx
* Add get_failing_from_run db api method
* Switch sample sqlalchemy url to use mysql
* Update pep8 ignore list
* Add new item to the TODO list
* Add basic support for creating a subunit stream from db
* Fix get_test_run_by_run_id() db api method
* Update the documentation
* Bump oslo.config version
* Add a .gitreview file
* Update the TODO file again
* Release subunit2sql-0.1

0.1
---

* Add unit tests for ReadSubunit helper methods
* Add unit tests and fixes for increment_counts
* Make get_duration return the proper type
* Add basic unit tests
* Update requirements files
* Add sphinx docs
* Allow oslo.db config options on the CLI
* Cleanup the readme
* Update project packaging
* Update TODO file
* More pep8 fixes
* Add CLI option to set run artifacts
* Some performance improvements to db updates
* Fix more DB bugs
* Add Test run metadata
* Fix DB bugs found testing with mysql
* Fix typo setting mysql engine
* Add metadata tables and cli args for run meta
* Add support for keeping a moving avg of test run_time
* Update TODO items
* Store counts for runs and tests
* Add a TODO file
* Add total run time to the runs table
* Make DB path work
* Make stream parser work correctly
* flake8 clean checkpoint
* Flesh out more of subunit
* Initial commit
