

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Plugin API documentation &mdash; Poezio 1.0-dev documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/poezio.png"/>
  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Poezio 1.0-dev documentation" href="../index.html"/>
        <link rel="up" title="Development documentation" href="index.html"/>
        <link rel="next" title="Event Index" href="events.html"/>
        <link rel="prev" title="Development documentation" href="index.html"/> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html">Poezio</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing poezio</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html#poezio-in-the-gnu-linux-distributions">poezio in the GNU/Linux distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#install-from-source">Install from source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#global-section-options">Global section options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#optional-section-options">Optional section options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#tab-list">Tab list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#generalities">Generalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#roster-tab">Roster tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#chatroom-tab">Chatroom tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#private-tab">Private tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#conversation-tab">Conversation tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#dataforms-tab">Dataforms tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#list-tab">List tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#confirm-tab">Confirm tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#bookmarks-tab">Bookmarks tab</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../commands.html">Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#global-commands">Global commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#chat-tab-commands">Chat tab commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#multiuserchat-tab-commands">MultiUserChat tab commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#private-tab-commands">Private tab commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#normal-conversation-tab-commands">Normal Conversation tab commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#roster-tab-commands">Roster tab commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#xml-tab-commands">XML tab commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../keys.html">Keys</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../keys.html#key-bindings-listing">Key bindings listing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keys.html#key-configuration">Key configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keys.html#actions">Actions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../misc/index.html">Other topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../misc/carbons.html">Message Carbons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/client_certs.html">Using client certificates to login</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/correct.html">Message Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/personal_events.html">Personal Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/pyenv.html">Installing python 3.4 as a user</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/separate.html">Using several accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/ssl.html">TLS in poezio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../themes.html">Themes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../themes.html#create-a-theme">Create a theme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themes.html#use-a-theme">Use a theme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themes.html#change-the-theme-directory">Change the theme directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themes.html#available-options">Available options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html#setting-up-plugins">Setting up plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html#plugin-autoload">Plugin autoload</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html#manual-plugin-load">Manual plugin load</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html#plugin-configuration">Plugin configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html#plugin-index">Plugin index</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Development documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#about-plugins">About plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#about-poezio">About Poezio</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top">…</i>
        <a href="../index.html">Poezio</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Development documentation</a> &raquo;</li>
      
    <li>Plugin API documentation</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/dev/plugin.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="plugin-api-documentation">
<h1>Plugin API documentation<a class="headerlink" href="#plugin-api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-poezio.plugin">
<span id="baseplugin"></span><h2>BasePlugin<a class="headerlink" href="#module-poezio.plugin" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="poezio.plugin.BasePlugin">
<em class="property">class </em><code class="descclassname">poezio.plugin.</code><code class="descname">BasePlugin</code><span class="sig-paren">(</span><em>plugin_api</em>, <em>core</em>, <em>plugins_conf_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#BasePlugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.BasePlugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that all plugins derive from.</p>
<dl class="method">
<dt id="poezio.plugin.BasePlugin.init">
<code class="descname">init</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#BasePlugin.init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.BasePlugin.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called at the creation of the plugin.</p>
<p>Do not override __init__ and use this instead.</p>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.BasePlugin.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#BasePlugin.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.BasePlugin.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called before the destruction of the plugin.</p>
<p>Use it to erase or save things before the plugin is disabled.</p>
</dd></dl>

<dl class="attribute">
<dt id="poezio.plugin.BasePlugin.core">
<code class="descname">core</code><a class="headerlink" href="#poezio.plugin.BasePlugin.core" title="Permalink to this definition">¶</a></dt>
<dd><p>The Poezio <code class="xref py py-class docutils literal"><span class="pre">Core</span></code> object. Use it carefully.</p>
</dd></dl>

<dl class="attribute">
<dt id="poezio.plugin.BasePlugin.api">
<code class="descname">api</code><a class="headerlink" href="#poezio.plugin.BasePlugin.api" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#poezio.plugin.PluginAPI" title="poezio.plugin.PluginAPI"><code class="xref py py-class docutils literal"><span class="pre">PluginAPI</span></code></a> instance for this plugin.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">init</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#BasePlugin.init"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Method called at the creation of the plugin.</p>
<p>Do not overwrite __init__ and use this instead.</p>
</dd></dl>

</dd></dl>

<p>Each plugin inheriting <a class="reference internal" href="#poezio.plugin.BasePlugin" title="poezio.plugin.BasePlugin"><code class="xref py py-class docutils literal"><span class="pre">BasePlugin</span></code></a> has an <code class="docutils literal"><span class="pre">api</span></code> member variable, which refers
to a <a class="reference internal" href="#poezio.plugin.PluginAPI" title="poezio.plugin.PluginAPI"><code class="xref py py-class docutils literal"><span class="pre">PluginAPI</span></code></a> object.</p>
<p>The <a class="reference internal" href="#poezio.plugin.PluginAPI" title="poezio.plugin.PluginAPI"><code class="xref py py-class docutils literal"><span class="pre">PluginAPI</span></code></a> object is an a interface through which the <a class="reference internal" href="#poezio.plugin.BasePlugin" title="poezio.plugin.BasePlugin"><code class="xref py py-class docutils literal"><span class="pre">BasePlugin</span></code></a>
(and inheritors) <em>should</em> go to interact with poezio. If it is not sufficient, then the <code class="docutils literal"><span class="pre">core</span></code>
member can be used.</p>
</div>
<div class="section" id="pluginapi">
<h2>PluginAPI<a class="headerlink" href="#pluginapi" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="poezio.plugin.PluginAPI">
<em class="property">class </em><code class="descclassname">poezio.plugin.</code><code class="descname">PluginAPI</code><span class="sig-paren">(</span><em>core</em>, <em>plugin_manager</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>The public API exposed to the plugins.
Its goal is to limit the use of the raw Core object
as much as possible.</p>
<dl class="method">
<dt id="poezio.plugin.PluginAPI.add_command">
<code class="descname">add_command</code><span class="sig-paren">(</span><em>module</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.add_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.add_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a global command.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The name of the command (/name)</li>
<li><strong>handler</strong> (<em>function</em>) &#8211; The function called when the command is run.</li>
<li><strong>help</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The complete help for that command.</li>
<li><strong>short</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; A short description of the command.</li>
<li><strong>completion</strong> (<em>function</em>) &#8211; The completion function for that command
(optional)</li>
<li><strong>usage</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <p>A string showing the required and optional args
of the command. Optional args should be surrounded by []
and mandatory args should be surrounded by &lt;&gt;.</p>
<p>Example string: &#8220;&lt;server&gt; [port]&#8221;</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>Exception</strong> &#8211; If the command already exists.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.add_event_handler">
<code class="descname">add_event_handler</code><span class="sig-paren">(</span><em>module</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.add_event_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.add_event_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an event handler for a poezio event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>event_name</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The event name.</li>
<li><strong>handler</strong> (<em>function</em>) &#8211; The handler function.</li>
<li><strong>position</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The position of that handler in the handler list.
This is useful for plugins like GPG or OTR, which must be the last
function called on the text.
Defaults to 0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>A complete list of those events can be found at
<a class="reference external" href="https://doc.poez.io/dev/events.html">https://doc.poez.io/dev/events.html</a></p>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.add_key">
<code class="descname">add_key</code><span class="sig-paren">(</span><em>module</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.add_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.add_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Associate a global binding to a handler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The curses representation of the binding.</li>
<li><strong>handler</strong> (<em>function</em>) &#8211; The function called when the binding is pressed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>Exception</strong> &#8211; If the binding is already present.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.add_slix_event_handler">
<code class="descname">add_slix_event_handler</code><span class="sig-paren">(</span><em>module</em>, <em>event_name</em>, <em>handler</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.add_slix_event_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.add_slix_event_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an event handler for a slixmpp event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>event_name</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The event name.</li>
<li><strong>handler</strong> (<em>function</em>) &#8211; The handler function.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>A list of the slixmpp events can be found here
<a class="reference external" href="http://sleekxmpp.com/event_index.html">http://sleekxmpp.com/event_index.html</a></p>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.add_tab_command">
<code class="descname">add_tab_command</code><span class="sig-paren">(</span><em>module</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.add_tab_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.add_tab_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a command to only one type of tab.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tab_type</strong> (<em>tabs.Tab</em>) &#8211; The type of Tab to target.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The name of the command (/name)</li>
<li><strong>handler</strong> (<em>function</em>) &#8211; The function called when the command is run.</li>
<li><strong>help</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The complete help for that command.</li>
<li><strong>short</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; A short description of the command.</li>
<li><strong>completion</strong> (<em>function</em>) &#8211; The completion function for that command
(optional)</li>
<li><strong>usage</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; <p>A string showing the required and optional args
of the command. Optional args should be surrounded by []
and mandatory args should be surrounded by &lt;&gt;.</p>
<p>Example string: &#8220;&lt;server&gt; [port]&#8221;</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>Exception</strong> &#8211; If the command already exists.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.add_tab_key">
<code class="descname">add_tab_key</code><span class="sig-paren">(</span><em>module</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.add_tab_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.add_tab_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Associate a binding to a handler, but only for a certain tab type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tab_type</strong> (<em>Tab</em>) &#8211; The type of tab to target.</li>
<li><strong>key</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The binding to add.</li>
<li><strong>handler</strong> (<em>function</em>) &#8211; The function called when the binding is pressed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.add_timed_event">
<code class="descname">add_timed_event</code><span class="sig-paren">(</span><em>_</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.add_timed_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.add_timed_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedule a timed event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>event</strong> (<a class="reference internal" href="timed_events.html#poezio.timed_events.TimedEvent" title="poezio.timed_events.TimedEvent"><em>timed_events.TimedEvent</em></a>) &#8211; The timed event to schedule.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.all_tabs">
<code class="descname">all_tabs</code><span class="sig-paren">(</span><em>_</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.all_tabs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.all_tabs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all opened tabs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns list:</th><td class="field-body">The list of tabs.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.create_delayed_event">
<code class="descname">create_delayed_event</code><span class="sig-paren">(</span><em>_</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.create_delayed_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.create_delayed_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a delayed event, but do not schedule it;
<a class="reference internal" href="#poezio.plugin.PluginAPI.add_timed_event" title="poezio.plugin.PluginAPI.add_timed_event"><code class="xref py py-func docutils literal"><span class="pre">add_timed_event()</span></code></a> must be used for that.</p>
<p>A delayed event is a timed event with a delay from the time
this function is called (instead of a datetime).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>delay</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The number of seconds to schedule the execution</li>
<li><strong>callback</strong> (<em>function</em>) &#8211; The handler that will be executed</li>
<li><strong>*args</strong> &#8211; Optional arguments passed to the handler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The created event.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">timed_events.DelayedEvent</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.create_timed_event">
<code class="descname">create_timed_event</code><span class="sig-paren">(</span><em>_</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.create_timed_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.create_timed_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a timed event, but do not schedule it;
<a class="reference internal" href="#poezio.plugin.PluginAPI.add_timed_event" title="poezio.plugin.PluginAPI.add_timed_event"><code class="xref py py-func docutils literal"><span class="pre">add_timed_event()</span></code></a> must be used for that.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date</strong> (<a class="reference external" href="https://docs.python.org/2/library/datetime.html#datetime.datetime" title="(in Python v2.7)"><em>datetime.datetime</em></a>) &#8211; The time at which the handler must be executed</li>
<li><strong>callback</strong> (<em>function</em>) &#8211; The handler that will be executed</li>
<li><strong>*args</strong> &#8211; Optional arguments passed to the handler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The created event.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">timed_events.TimedEvent</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.current_tab">
<code class="descname">current_tab</code><span class="sig-paren">(</span><em>_</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.current_tab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.current_tab" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current Tab.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The current tab.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.del_command">
<code class="descname">del_command</code><span class="sig-paren">(</span><em>module</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.del_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.del_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a global command.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The name of the command to remove.
That command _must_ have been added by the same plugin</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.del_event_handler">
<code class="descname">del_event_handler</code><span class="sig-paren">(</span><em>module</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.del_event_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.del_event_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a handler for a poezio event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>event_name</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The name of the targeted event.</li>
<li><strong>handler</strong> (<em>function</em>) &#8211; The function to remove from the handlers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.del_key">
<code class="descname">del_key</code><span class="sig-paren">(</span><em>module</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.del_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.del_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a global binding.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The binding to remove.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.del_slix_event_handler">
<code class="descname">del_slix_event_handler</code><span class="sig-paren">(</span><em>module</em>, <em>event_name</em>, <em>handler</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.del_slix_event_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.del_slix_event_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a handler for a slixmpp event</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>event_name</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The name of the targeted event.</li>
<li><strong>handler</strong> (<em>function</em>) &#8211; The function to remove from the handlers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.del_tab_command">
<code class="descname">del_tab_command</code><span class="sig-paren">(</span><em>module</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.del_tab_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.del_tab_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a tab-specific command.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tab_type</strong> (<em>tabs.Tab</em>) &#8211; The type of tab to target.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The name of the command to remove.
That command _must_ have been added by the same plugin</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.del_tab_key">
<code class="descname">del_tab_key</code><span class="sig-paren">(</span><em>module</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.del_tab_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.del_tab_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a binding added with add_tab_key</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tab_type</strong> (<em>tabs.Tab</em>) &#8211; The type of tab to target.</li>
<li><strong>key</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The binding to remove.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.get_conversation_messages">
<code class="descname">get_conversation_messages</code><span class="sig-paren">(</span><em>_</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.get_conversation_messages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.get_conversation_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the Messages of the current Tab.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The list of <code class="xref py py-class docutils literal"><span class="pre">text_buffer.Message</span></code> objects.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None if the Tab does not inherit from ChatTab.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">list</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.get_status">
<code class="descname">get_status</code><span class="sig-paren">(</span><em>_</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.get_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current user global status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns Status:</th><td class="field-body">The current status.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.information">
<code class="descname">information</code><span class="sig-paren">(</span><em>_</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.information"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.information" title="Permalink to this definition">¶</a></dt>
<dd><p>Display a new message in the information buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The message to display.</li>
<li><strong>typ</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The message type (e.g. Info, Error…)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.remove_timed_event">
<code class="descname">remove_timed_event</code><span class="sig-paren">(</span><em>_</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.remove_timed_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.remove_timed_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Unschedule a timed event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>event</strong> (<a class="reference internal" href="timed_events.html#poezio.timed_events.TimedEvent" title="poezio.timed_events.TimedEvent"><em>timed_events.TimedEvent</em></a>) &#8211; The event to unschedule.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.run_command">
<code class="descname">run_command</code><span class="sig-paren">(</span><em>_</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.run_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.run_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a command from the current tab.
(a command starts with a /, if not, it’s a message)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The command to run.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="poezio.plugin.PluginAPI.send_message">
<code class="descname">send_message</code><span class="sig-paren">(</span><em>_</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/poezio/plugin.html#PluginAPI.send_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poezio.plugin.PluginAPI.send_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to the current tab.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The message to send.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="example-plugins">
<h2>Example plugins<a class="headerlink" href="#example-plugins" title="Permalink to this headline">¶</a></h2>
<p><strong>Example 1:</strong> Add a simple command that sends &#8220;Hello World!&#8221; into the conversation</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Plugin</span><span class="p">(</span><span class="n">BasePlugin</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">command_hello</span><span class="p">,</span> <span class="s2">&quot;Send &#39;Hello World!&#39;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">command_hello</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="s1">&#39;Hello World!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example 2:</strong> Adds an event handler that sends “tg” to a groupchat when a message is received from someone named “Partauche”</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Plugin</span><span class="p">(</span><span class="n">BasePlugin</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_event_handler</span><span class="p">(</span><span class="s1">&#39;muc_msg&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_groupchat_message</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_groupchat_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">tab</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">message</span><span class="p">[</span><span class="s1">&#39;mucnick&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Partauche&quot;</span><span class="p">:</span>
            <span class="n">tab</span><span class="o">.</span><span class="n">command_say</span><span class="p">(</span><span class="s1">&#39;tg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="events.html" class="btn btn-neutral float-right" title="Event Index">Next</a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Development documentation">Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Mathieu Pasquet - Florent Le Coz.
      Last updated on Oct 04, 2016.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

   
</body>
</html>