

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TLS in poezio &mdash; Poezio 1.0-dev documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/poezio.png"/>
  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Poezio 1.0-dev documentation" href="../index.html"/>
        <link rel="up" title="Other topics" href="index.html"/>
        <link rel="next" title="Troubleshooting" href="troubleshooting.html"/>
        <link rel="prev" title="Using several accounts" href="separate.html"/> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html">Poezio</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing poezio</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html#poezio-in-the-gnu-linux-distributions">poezio in the GNU/Linux distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#install-from-source">Install from source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#global-section-options">Global section options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#optional-section-options">Optional section options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#tab-list">Tab list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#generalities">Generalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#roster-tab">Roster tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#chatroom-tab">Chatroom tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#private-tab">Private tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#conversation-tab">Conversation tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#dataforms-tab">Dataforms tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#list-tab">List tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#confirm-tab">Confirm tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#bookmarks-tab">Bookmarks tab</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../commands.html">Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#global-commands">Global commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#chat-tab-commands">Chat tab commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#multiuserchat-tab-commands">MultiUserChat tab commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#private-tab-commands">Private tab commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#normal-conversation-tab-commands">Normal Conversation tab commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#roster-tab-commands">Roster tab commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html#xml-tab-commands">XML tab commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../keys.html">Keys</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../keys.html#key-bindings-listing">Key bindings listing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keys.html#key-configuration">Key configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keys.html#actions">Actions</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Other topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="carbons.html">Message Carbons</a></li>
<li class="toctree-l2"><a class="reference internal" href="client_certs.html">Using client certificates to login</a></li>
<li class="toctree-l2"><a class="reference internal" href="correct.html">Message Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="personal_events.html">Personal Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyenv.html">Installing python 3.4 as a user</a></li>
<li class="toctree-l2"><a class="reference internal" href="separate.html">Using several accounts</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">TLS in poezio</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../themes.html">Themes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../themes.html#create-a-theme">Create a theme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themes.html#use-a-theme">Use a theme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themes.html#change-the-theme-directory">Change the theme directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themes.html#available-options">Available options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html#setting-up-plugins">Setting up plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html#plugin-autoload">Plugin autoload</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html#manual-plugin-load">Manual plugin load</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html#plugin-configuration">Plugin configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html#plugin-index">Plugin index</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Development documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev/index.html#about-plugins">About plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/index.html#about-poezio">About Poezio</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top">…</i>
        <a href="../index.html">Poezio</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Other topics</a> &raquo;</li>
      
    <li>TLS in poezio</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/misc/ssl.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="tls-in-poezio">
<h1>TLS in poezio<a class="headerlink" href="#tls-in-poezio" title="Permalink to this headline">¶</a></h1>
<div class="section" id="security-of-the-connection">
<span id="security-settings"></span><h2>Security of the connection<a class="headerlink" href="#security-of-the-connection" title="Permalink to this headline">¶</a></h2>
<div class="section" id="enabling-or-disabling-tls">
<h3>Enabling or disabling TLS<a class="headerlink" href="#enabling-or-disabling-tls" title="Permalink to this headline">¶</a></h3>
<p>Starting from version 0.8, poezio is configured to reject unencrypted connections
by default, in accordance to the <a class="reference external" href="https://github.com/stpeter/manifesto/blob/master/manifesto.txt">TLS manifesto</a>. Users can still allow
unencrypted connections by setting the <a class="reference internal" href="../configuration.html#term-force-encryption"><span class="xref std std-term">force_encryption</span></a> option to false.</p>
<p>If you cannot connect to your server, maybe it does not allow encrypted connections,
in which case you should reconfigure it if it is yours, or contact your admin
to let him know he should try to protect your privacy and credentials, at least
a little.</p>
</div>
<div class="section" id="ciphers">
<span id="id1"></span><h3>Ciphers<a class="headerlink" href="#ciphers" title="Permalink to this headline">¶</a></h3>
<p>From the version 0.8, poezio offers the possibility to define your own set of
ciphers.</p>
<p>You can set this with the <a class="reference internal" href="../configuration.html#term-ciphers"><span class="xref std std-term">ciphers</span></a> option, the default for poezio being
<code class="docutils literal"><span class="pre">HIGH+kEDH:HIGH+kEECDH:HIGH:!PSK:!SRP:!3DES:!aNULL</span></code>.
You can check what ciphers are enabled by that list by running the command
<code class="docutils literal"><span class="pre">openssl</span> <span class="pre">ciphers</span> <span class="pre">-v</span> <span class="pre">'cipher</span> <span class="pre">list'</span></code>. The default list prioritizes <a class="reference external" href="https://en.wikipedia.org/wiki/Forward_secrecy">Forward Secrecy</a>
and does not have any cipher suite providing less than 128 bits of security.</p>
<p>You should change this if you either cannot connect to your server (but in this
case, you should notify the administrator that his XMPP server configuration
is probably not great), or if you want to be even more restrictive (only allowing
256 bits of security <em>and</em> forward secrecy, for example).</p>
<p>For example, gmail.com (and subsequent XMPP services) only support RC4-MD5 and RC4-SHA,
so you will want to set the option to <code class="docutils literal"><span class="pre">RC4</span></code> (or the default with <code class="docutils literal"><span class="pre">:RC4</span></code> appended,
just in case they upgrade their service, though that is very unlikely). Please consider
moving to a better XMPP service provider.</p>
</div>
</div>
<div class="section" id="certificate-validation">
<h2>Certificate validation<a class="headerlink" href="#certificate-validation" title="Permalink to this headline">¶</a></h2>
<p>Starting from version 0.7.5, poezio offers some options to check the validity
of a X.509 certificate.</p>
<div class="section" id="tofu">
<h3>TOFU<a class="headerlink" href="#tofu" title="Permalink to this headline">¶</a></h3>
<p>The default handling method is the <a class="reference external" href="https://en.wikipedia.org/wiki/User:Dotdotike/Trust_Upon_First_Use">TOFU/TUFU</a>
method. At your first connection, poezio will save the hash of the certificate
received, and will compare the received one and the first one for the next
connections.</p>
<p>If you are paranoid (or run poezio for the first time in an unsafe
environment), you can set the <a class="reference internal" href="../configuration.html#term-certificate"><span class="xref std std-term">certificate</span></a> value of your config file yourself
(the hash, colon-separated).</p>
<p>If the certificate is not the same, poezio will open a <a class="reference internal" href="../usage.html#confirmtab"><span class="std std-ref">Confirm tab</span></a> and wait
for confirmation:</p>
<div class="figure">
<img alt="Warning message" src="../_images/cert_warning1.png" />
</div>
<p>If you refuse, you will be disconnected.</p>
</div>
<div class="section" id="ca-based">
<h3>CA-Based<a class="headerlink" href="#ca-based" title="Permalink to this headline">¶</a></h3>
<p>If you are connecting to a large server that has several front-facing
endpoints, you might be bothered by having to validate the change each time,
and you may want to check only if it the same authority delivered the
certificate.</p>
<p>You can then set the <a class="reference internal" href="../configuration.html#term-ca-cert-path"><span class="xref std std-term">ca_cert_path</span></a> option to the path of a file
containing the validation chain in <a class="reference external" href="https://tools.ietf.org/html/rfc1422.html">PEM format</a> ; those certificates are
usually in /usr/share/ca-certificates/ but it may vary depending of your
distribution.</p>
<p>If the authority does not match when connecting, you should be disconnected.</p>
</div>
<div class="section" id="none">
<h3>None<a class="headerlink" href="#none" title="Permalink to this headline">¶</a></h3>
<p>If you do not want to bother with certificate validation at all (which can be
the case when you run poezio on the same computer as your jabber server), you
can set the <a class="reference internal" href="../configuration.html#term-ignore-certificate"><span class="xref std std-term">ignore_certificate</span></a> value to true, and let the
<a class="reference internal" href="../configuration.html#term-ca-cert-path"><span class="xref std std-term">ca_cert_path</span></a> option empty (or even remove it).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Only do this if you know what you are doing, or you will be open
to Man in The Middle attacks!</p>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="troubleshooting.html" class="btn btn-neutral float-right" title="Troubleshooting">Next</a>
      
      
        <a href="separate.html" class="btn btn-neutral" title="Using several accounts">Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Mathieu Pasquet - Florent Le Coz.
      Last updated on Oct 04, 2016.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

   
</body>
</html>