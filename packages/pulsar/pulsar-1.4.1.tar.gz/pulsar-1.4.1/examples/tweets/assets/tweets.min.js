!function(a){"use strict";function b(){return a.lux.context?j.context.MINIFIED_MEDIA:void 0}function c(){return a.lux.context?j.context.MEDIA_URL:void 0}function d(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function e(){return{angular:"//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular","angular-animate":"//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate","angular-mocks":"//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-mocks.js","angular-sanitize":"//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-sanitize","angular-touch":"//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.15/angular-touch","angular-strap":"//cdnjs.cloudflare.com/ajax/libs/angular-strap/2.2.1/angular-strap","angular-strap-tpl":"//cdnjs.cloudflare.com/ajax/libs/angular-strap/2.2.4/angular-strap.tpl","angular-ui-router":"//cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.14/angular-ui-router","angular-pusher":"//cdn.jsdelivr.net/angular.pusher/latest/pusher-angular.min.js",async:"//cdnjs.cloudflare.com/ajax/libs/requirejs-async/0.1.1/async.js",pusher:"//js.pusher.com/2.2/pusher",codemirror:"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/codemirror","codemirror-markdown":"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/markdown/markdown","codemirror-javascript":"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/javascript/javascript","codemirror-xml":"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/xml/xml","codemirror-css":"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/css/css","codemirror-htmlmixed":"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/htmlmixed/htmlmixed",crossfilter:"//cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.11/crossfilter",d3:"//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3","google-analytics":"//www.google-analytics.com/analytics.js",gridster:"//cdnjs.cloudflare.com/ajax/libs/jquery.gridster/0.5.6/jquery.gridster",holder:"//cdnjs.cloudflare.com/ajax/libs/holder/2.3.1/holder",highlight:"//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js",katex:"//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.js",leaflet:"//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js",lodash:"//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash",marked:"//cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked",mathjax:"//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML",moment:"//cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment",restangular:"//cdnjs.cloudflare.com/ajax/libs/restangular/1.4.0/restangular",sockjs:"//cdnjs.cloudflare.com/ajax/libs/sockjs-client/0.3.4/sockjs.min.js",stats:"//cdnjs.cloudflare.com/ajax/libs/stats.js/r11/Stats",topojson:"//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson"}}function f(){return{angular:{exports:"angular"},"angular-strap-tpl":{deps:["angular","angular-strap"]},"google-analytics":{exports:a.GoogleAnalyticsObject||"ga"},highlight:{exports:"hljs"},lux:{deps:["angular"]},"ui-bootstrap":{deps:["angular"]},codemirror:{exports:"CodeMirror"},"codemirror-markdown":{deps:["codemirror"]},"codemirror-xml":{deps:["codemirror"]},"codemirror-javascript":{deps:["codemirror"]},"codemirror-css":{deps:["codemirror"]},"codemirror-htmlmixed":{deps:["codemirror","codemirror-xml","codemirror-javascript","codemirror-css"]},restangular:{deps:["angular"]},crossfilter:{exports:"crossfilter"},trianglify:{deps:["d3"],exports:"Trianglify"},mathjax:{exports:"MathJax"}}}function g(c){var f={},g=b()?".min":"",j=a.local_require_prefix,k=d(e(),c.paths);for(var l in k)if(k.hasOwnProperty(l)){var m=k[l];if(j&&m.substring(0,j.length)===j&&(m=m.substring(j.length)),c.shim[l]||("angular-"===l.substring(0,8)?c.shim[l]={deps:["angular"]}:"d3-"===l.substring(0,3)&&(c.shim[l]={deps:["d3"]})),"string"!=typeof m)m=m.url;else{var n=m.split("?");2===n.length?(m=n[0],n=n[1]):n="",m.substring(m.length-3)!==i&&(m+=g),n&&(m.substring(m.length-3)!==i&&(m+=i),m+="?"+n),"//"===m.substring(0,2)&&h&&(m=h+m),m.substring(m.length-3)===i&&(m=m.substring(0,m.length-3))}f[l]=m}return f}a.lux||(a.lux={});var h=a.location&&"file:"===a.location.protocol?"http:":"",i=".js",j=(Object.prototype.toString,a.lux);j.config=function(a){if(!a.baseUrl){var b=c();void 0!==b&&(a.baseUrl=b)}a.shim=d(f(),a.shim),a.paths=g(a),require.config(a)}}(this),lux.config({}),require(["angular"],function(a){a.module("twitter-example",["templates-tweets"]).directive("twitter",["$rootScope","$log",function(b,c){function d(a,c){b.websockets||(b.websockets={});var d=b.websockets[c];return d||(b.websockets[c]=d=e(c)),d}function e(b){var d=new WebSocket(b),e=[];return d.onopen=function(){c.info("New connection with "+b)},d.onmessage=function(b){var c=a.fromJson(b.data);c.timestamp=+c.timestamp,c.url="https://twitter.com/"+c.user.screen_name+"/status/"+c.id_str,a.forEach(e,function(a){a(d,c)})},{sock:d,listeners:e}}function f(a){return function(b,c){a.messages.push(c),a.$apply()}}return{restrict:"AE",templateUrl:"tweets/templates/tweets.tpl.html",link:function(b,e,g){var h=g.twitter;if(h&&(h=a.fromJson(h)),b.messages=[],h&&h.url){var i=d(b,h.url);i.listeners.push(f(b))}else c.error("Twitter directive improperly configured, no url found")}}}]),a.module("templates-tweets",["tweets/templates/tweets.tpl.html"]),a.module("tweets/templates/tweets.tpl.html",[]).run(["$templateCache",function(a){a.put("tweets/templates/tweets.tpl.html",'<div class="media" ng-repeat="msg in messages | orderBy: [\'-timestamp\']">\n	<div class="media-left">\n    	<a ng-href="{{ msg.url }}">\n      		<img class="media-object" ng-src="{{msg.user.profile_image_url_https}}"\n			alt="{{msg.user.name}}" class="img-thumbnail">\n    	</a>\n  	</div>\n	<div class="media-body">\n		<p class=\'list-group-item-text message\'>{{msg.text}}</p>\n	</div>\n</div>\n')}]),a.bootstrap(document,["twitter-example"])});