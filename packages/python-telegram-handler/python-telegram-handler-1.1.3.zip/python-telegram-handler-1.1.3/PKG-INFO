Metadata-Version: 1.1
Name: python-telegram-handler
Version: 1.1.3
Summary: A python logging handler that sends logs via Telegram Bot Api.
Home-page: https://github.com/sashgorokhov/python-telegram-handler
Author: sashgorokhov
Author-email: sashgorokhov@gmail.com
License: MIT License
Download-URL: https://github.com/sashgorokhov/python-telegram-handler/archive/master.zip
Description: python-telegram-handler
        ***********************
        
        .. image:: https://badge.fury.io/py/python-telegram-handler.svg
            :target: https://badge.fury.io/py/python-telegram-handler
        
        .. image:: https://travis-ci.org/sashgorokhov/python-telegram-handler.svg?branch=master
            :target: https://travis-ci.org/sashgorokhov/python-telegram-handler
        
        .. image:: https://codecov.io/github/sashgorokhov/python-telegram-handler/coverage.svg?branch=master
            :target: https://codecov.io/github/sashgorokhov/python-telegram-handler?branch=master
        
        A python logging handler that sends logs via Telegram Bot Api
        
        Installation
        ============
        
        Via pip:
        
        .. code-block:: shell
        
            pip install python-telegram-handler
        
        Usage
        =====
        
        Register a new telegram bot and obtain a ``authentication token``. (Instructions here https://core.telegram.org/bots#3-how-do-i-create-a-bot)
        
        After that, you must obtain a ``chat_id``. You can do that using included simple script. Start a new conversation with newly created bot, write something to it (it is important to initiate conversation first).
        
        
        Then run a command:
        
        .. code-block:: shell
        
            telegram_handler <your token here>
            
        If all went ok, a ``chat_id`` will be printed to stdout.
        
        Using ``token`` and ``chat_id``, configure log handler in your desired way.
        For example, using dictConfig:
        
        .. code-block:: python
        
                {
                    'version': 1,
                    'handlers': {
                        'telegram': {
                            'class': 'telegram_handler.TelegramHandler',
                            'token': 'your token',
                            'chat_id': 'chat id'
                        }
                    },
                    'loggers': {
                        'my_logger': {
                            'handlers': ['telegram'],
                            'level': 'DEBUG'
                        }
                    }
                }
        
        Formatting
        ==========
        
        Currently the format of sent messages is very simple: ``%(asctime)s %(name)s %(levelname)s %(message)s``
        Exception traceback will be formatted as pre-formatted fixed-width code block. (https://core.telegram.org/bots/api#markdown-style)
        
        If you want to tweak it, configure a ``telegram_handler.HtmlFormatter`` with your desired format string.
        Using a dictConfig:
        
        .. code-block:: python
                
                ...
                {
                    'formatters': {
                        'telegram': {
                            'class': 'telegram_handler.HtmlFormatter',
                            'fmt': '%(levelname)s %(message)s'
                        }
                    }
                    'handlers': {
                        'telegram': {
                            'class': 'telegram_handler.TelegramHandler',
                            'formatter': 'telegram',
                            'token': 'your token',
                            'chat_id': 'chat id'
                        }
                    }
                }
                ...
        
        
        
        .. :changelog:
        
        History
        -------
        
        1.1.3 (2016-09-22)
        ++++++++++++++++++
        
        * Setting escape_message field of StyledFormatter missed (@ihoru)
        
        1.1.2 (2016-05-13)
        ++++++++++++++++++
        
        * Fixed setup.py requires option (changed to install_requires)
        
        1.1.1 (2016-04-20)
        ++++++++++++++++++
        
        * Use HTML Formatter as default formatter for telegram handler
        
        1.1.0 (2016-04-20)
        ++++++++++++++++++
        
        * Introduced HTML Formatter
        * Added log text escaping (closed #3)
        * Added requests timeout setting (closed  #1)
        * Catching and logging all requests and their exceptions (closed #2)
        
        1.0.0 (2016-04-19)
        ++++++++++++++++++
        
        * First PyPi release
        
        0.1.0 (2016-04-19)
        ++++++++++++++++++
        
        * Initial release
Keywords: telegram,logging,handler,bot
Platform: UNKNOWN
