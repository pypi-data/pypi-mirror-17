p=test*.py
test:
	TMPDIR=/tmp python -m unittest discover -vv -t $(shell pwd) ./tests -p "$(p)"
lint:
	flake8 $$(find -name '*.py')
cover:
	python -m coverage run --source="./" --omit "./tests/*"  -m unittest discover -vv ./tests -t $(shell pwd)
	python -m coverage report
clean:
	find . -name '*.pyc' -delete
.PHONY: lint test apt-update

