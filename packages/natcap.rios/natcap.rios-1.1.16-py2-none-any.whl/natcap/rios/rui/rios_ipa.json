{
    "id": "water_funds_prioritizer",
    "modelName": "water_funds_prioritizer",
    "label": "RIOS Investment Portfolio Adviser",
    "targetScript": "natcap.rios.rios",
    "resources": "rios_resources",
    "height": 950,
    "width": 1050,
    "saveLastRun": true,
    "loadLastRun": true,
    "global_landscape_transitions":
    [
        {
            "id": "trans1",
            "file_name": "keep_native_vegetation",
            "label": "Keep native \nvegetation",
            "transition_type": "protection"
        },
        {
            "id": "trans2",
            "file_name": "revegetation_unassisted",
            "label": "Revegetation \n(unassisted)",
            "transition_type": "restoration"
        },
        {
            "id": "trans3",
            "file_name": "revegetation_assisted",
            "label": "Revegetation \n(assisted)",
            "transition_type": "restoration"
        },
        {
            "id": "trans4",
            "file_name": "agricultural_vegetation_managment",
            "label": "Agricultural \nvegetation \nmanagement",
            "transition_type": "agriculture"
        },
        {
            "id": "trans5",
            "file_name": "ditching",
            "label": "Ditching",
            "transition_type": "agriculture"
        },
        {
            "id": "trans6",
            "file_name": "fertilizer_management",
            "label": "Fertilizer \nmanagement",
        "transition_type": "agriculture"
        },
        {
            "id": "trans7",
            "file_name": "pasture_management",
            "label": "Pasture \nmanagement",
            "transition_type": "agriculture"
        }
    ],
    "elements":
    [
        {
            "id": "transition_types",
            "args_id": "transition_types",
            "type": "hiddenElement",
            "returns": {
                "inheritFrom": "water_funds_prioritizer",
                "useAttribute": "global_landscape_transitions"
            }
        },
        {
            "id": "overviewTabGroup",
            "type": "tabbedGroup",
            "elements":
            [
                {
                    "id": "selectObjectivesTab",
                    "type": "tab",
                    "label": "Select Objectives",
                    "condenseElements": true,
                    "elements":
                    [
                        {
                            "id": "workspace_list",
                            "type": "list",
                            "elements": [
                                {
                                    "id": "workspace_dir",
                                    "type": "folder",
                                    "label": "Select Workspace",
                                    "validateAs": {"type": "folder", "permissions": "rwx"},
                                    "required": true,
                                    "defaultValue": "~/Documents/rios_workspace",
                                    "args_id": "workspace_dir",
                                    "helpText": "The system folder where all of the output files from the tool will be saved. Make sure that there is enough disk space available and permissions allow for reading and writing data to this folder."
                                },
                                {
                                    "id": "lulc_file",
                                    "type": "file",
                                    "label": "LULC",
                                    "required": true,
                                    "defaultValue": "",
                                    "validateAs": {"type": "GDAL"},
                                    "args_id": "lulc_uri",
                                    "helpText": "Raster layer containing Land Use/Land Cover data, with a unique integer value assigned to each LULC class."
                                },
                                {
                                    "id": "lulc_coefficients_table",
                                    "type": "file",
                                    "label": "LULC Biophysical Coefficients",
                                    "required": true,
                                    "defaultValue": "",
                                    "args_id": "lulc_coefficients_table_uri",
                                    "validateAs": {
                                        "type": "CSV",
                                        "fieldsExist": ["description", "lucode", "native_veg", "Sed_Exp", "Sed_Ret", "N_Exp", "N_Ret", "P_Exp", "P_Ret", "Rough_Rank", "Cover_Rank", "root_depth", "Kc", "LULC_veg", "usle_c", "usle_p"]
                                    },
                                    "helpText": "Table in .csv (Comma Separated Value) format, containing model input coefficients specific to each Objective. Default values are provided in the RIOS_default_LULC_coefficients.csv file. Land use codes in this table (lucode) must match the integer values in the LULC raster provided above."
                                },
                                {
                                    "id": "activity_table_csv_file",
                                    "type": "activityTableFile",
                                    "label": "LULC Classification CSV with Activities",
                                    "defaultValue": "",
                                    "required": true,
                                    "args_id": "lulc_activity_potential_map",
                                    "triggerColumns": ["money_available_table", "activity_cost_table"],
                                    "triggerRows": ["activityvsTransitionTable"],
                                    "validateAs": {"type": "CSV",
                                                   "fieldsExist": ["lucode"]},
                                    "helpText": "Table in .csv (Comma Separated Value) format, defining the activities that RIOS should consider in this run, and specifying on which LULC class they are allowed to occur."
                                },
                                {
                                    "id" : "results_suffix",
                                    "args_id" : "results_suffix",
                                    "type": "text",
                                    "dataType": "string",
                                    "label": "Results Suffix (optional)",
                                    "defaultValue": "",
                                    "returns": {"ifEmpty": "pass"},
                                    "required": false,
                                    "helpText":"This text will be appended to the end of all output files to help separate multiple runs."
                                },
                                {
                                    "id": "open_html_on_completion",
                                    "args_id": "open_html_on_completion",
                                    "type": "checkbox",
                                    "label": "Automatically open report when run is complete",
                                    "defaultValue": true,
                                    "helpText": "If checked RIOS will load the report into the default web browser when the run is complete.  Users that run RIOS scripts may want to check this option off so the browser isn't spammed with reports."
                                }
                            ]
                        },
                        {
                            "id": "objectives_text",
                            "type": "label",
                            "label": "Select the objectives for which you would like to build portfolios in this session. If you select more than one objective, the tool will produce portfolios that seek to achieve all of the chosen objectives.\n\n"
                        },
                        {
                            "id": "objective_list",
                            "type": "list",
                            "elements": [
                                {
                                    "id": "use_erosion_drinking",
                                    "type": "checkbox",
                                    "label": {"inheritFrom": "erosion_drinking_objective_tab"},
                                    "enabledBy": "activity_table_csv_file",
                                    "defaultValue": false,
                                    "helpText" :"Natural capital can act to keep soil from eroding, improving downstream water quality and potentially decreasing drinking water treatment costs or related health issues. This objective relates to regulation of sheetwash, rill and gully and bank erosion control. However the tool cannot suggest or prioritize activities that regulate in-channel erosion or deposition."
                                },
                                {
                                    "id": "use_erosion_reservoir",
                                    "type": "checkbox",
                                    "label": {"inheritFrom": "erosion_reservoir_objective_tab"},
                                    "enabledBy": "activity_table_csv_file",
                                    "defaultValue": false,
                                    "helpText" :"Erosion control that keeps sediment out of waterways can also keep sediment from settling in reservoirs where it can reduce the production capacity of hydropower facilities, drinking water or irrigation reservoirs, damage infrastructure (turbines, pumps, etc), shorten the lifetime of the reservoir or infrastructure or increase dredge costs. This objective also relates to regulation of sheetwash, rill and gully and bank erosion control.  However the tool cannot suggest or prioritize activities that regulate in-channel erosion or deposition."
                                },
                                {

                                    "id": "use_nutrient_retention_phosphorus",
                                    "type": "checkbox",
                                    "label": {"inheritFrom": "nutrient_retention_phosphorus_objective_tab"},
                                    "enabledBy": "activity_table_csv_file",
                                    "defaultValue": false,
                                    "helpText" :"Natural capital can keep phosphorus from being exported from the landscape and it can retain phosphorus moving across the landscape from upstream sources. Retaining phosphorus can improve downstream water quality, aquatic habitat and biodiversity, and potentially decrease drinking water treatment costs and phosphorus-related health risks. This objective relates to regulation of any form of phosphorus, but does not capture regulation of any other pollutant (e.g. phosphorus, bacteria, pesticides, heavy metals)."
                                },
                                {
                                    "id": "use_nutrient_retention_nitrogen",
                                    "type": "checkbox",
                                    "label": {"inheritFrom": "nutrient_retention_nitrogen_objective_tab"},
                                    "enabledBy": "activity_table_csv_file",
                                    "defaultValue": false,
                                    "helpText" : "Natural capital can keep nitrogen from being exported from the landscape and it can retain nitrogen moving across the landscape from upstream sources. Retaining nitrogen can improve downstream water quality, aquatic habitat and biodiversity, and potentially decrease drinking water treatment costs and nitrogen-related health risks. This objective relates to regulation of any form of nitrogen, but does not capture regulation of any other pollutant (e.g. nitrogen, bacteria, pesticides, heavy metals)."
                                },
                                {
                                    "id": "use_flood_mitigation_impact",
                                    "type": "checkbox",
                                    "label": {"inheritFrom": "flood_mitigation_impact_objective_tab"},
                                    "enabledBy": "activity_table_csv_file",
                                    "defaultValue": false,
                                    "helpText" : "Natural capital can intercept rainfall, slow overland flow of water, and increase travel time of water to the river, decreasing the peak magnitude of floods. In reality, natural capital can only significantly influence flood peak flows in average to medium-sized storms such as 10 year return period events or smaller. For very large (i.e. 100 year return period events), flood risk is more dependent on geography and characteristics of the channel network.  This objective represents the role that natural capital can play in retaining water on the landscape and reducing flood peaks; however the impact of activities will diminish as the storm size increases."
                                },
                                {
                                    "id": "use_groundwater_recharge",
                                    "type": "checkbox",
                                    "label": {"inheritFrom": "groundwater_recharge_objective_tab"},
                                    "enabledBy": "activity_table_csv_file",
                                    "defaultValue": false,
                                    "helpText" : "Natural capital can increase the amount of water that infiltrates into the soil and which eventually makes its way into a groundwater aquifer. Whether or not infiltration actually leads to recharge has to do with the connectivity between the soil layer and the aquifer. This model is designed for unconfined karst aquifers, where locations of major karst outcroppings are known.  It could also be applicable to other unconfined aquifer systems where areas of high recharge potential are known."
                                },
                                {
                                    "id": "use_baseflow",
                                    "type": "checkbox",
                                    "label": {"inheritFrom": "baseflow_objective_tab"},
                                    "enabledBy": "activity_table_csv_file",
                                    "defaultValue": false,
                                    "helpText": "Vegetation can intercept rainfall, slow overland flow of water, and increase temporary storage of subsurface water in soils, floodplains, and streambanks, which is later released slowly during the dry season to increase the magnitude and permanence of low flows.  This objective represents the role that natural capital can play in capturing and storing water and facilitating its slow release into streams."
                                },
                                {
                                    "id": "use_biodiversity",
                                    "type": "checkbox",
                                    "label": {"inheritFrom": "biodiversity_objective_tab"},
                                    "enabledBy": "activity_table_csv_file",
                                    "defaultValue": false,
                                    "helpText": "Biodiversity, the natural variation in life forms, is intimately linked to the production of environmental services. Patterns in biodiversity are inherently spatial, and can be estimated by analyzing maps of land use and land cover in conjunction with threats. RIOS does not model biodiversity directly, but users may input scores (based on outputs from other models, for example, or drawn from expert local knowledge) to choose how areas meeting these objectives will be ranked relative to the rest of the objectives chosen."
                                },
                                {
                                    "id": "use_other1",
                                    "type": "checkbox",
                                    "label": {"inheritFrom": "other1_objective_tab"},
                                    "enabledBy": "activity_table_csv_file",
                                    "defaultValue": false,
                                    "helpText": "Users may have results from other models or prioritization areas that they wish to consider when developing investment portfolios. This objective allows users to enter score maps for an “other” objective, and to choose how areas meeting this objective will be ranked relative to the rest of their objectives."
                                },
                                {
                                    "id": "use_other2",
                                    "type": "checkbox",
                                    "label": {"inheritFrom": "other2_objective_tab"},
                                    "enabledBy": "activity_table_csv_file",
                                    "defaultValue": false,
                                    "helpText": "Users may have results from other models or prioritization areas that they wish to consider when developing investment portfolios. This objective allows users to enter score maps for an “other” objective, and to choose how areas meeting this objective will be ranked relative to the rest of their objectives."
                                },
                                {
                                    "id": "use_other3",
                                    "type": "checkbox",
                                    "label": {"inheritFrom": "other3_objective_tab"},
                                    "enabledBy": "activity_table_csv_file",
                                    "defaultValue": false,
                                    "helpText": "Users may have results from other models or prioritization areas that they wish to consider when developing investment portfolios. This objective allows users to enter score maps for an “other” objective, and to choose how areas meeting this objective will be ranked relative to the rest of their objectives."
                                }
                            ]
                        },
                        {
                            "id": "empty_spacer_front_tab",
                            "type": "label",
                            "label": "<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>"
                        }
                    ]
                },
                {
                    "id": "editObjectiveWeights",
                    "type": "tab",
                    "label": "Edit Factor Weights",
                    "elements":
                    [
                        {
                            "id": "objectiveTabGroup",
                            "type": "tabbedGroup",
                            "elements":
                            [
                                {
                                    "id": "erosion_drinking_objective_tab",
                                    "label": "Erosion Control for Drinking Water Quality",
                                    "type": "tab",
                                    "enabledBy": "use_erosion_drinking",
                                    "enabled": false,
                                    "elements":
                                    [
                                        {
                                            "id": "erosion_drinking_objective",
                                            "type": "embeddedUI",
                                            "file_name": "erosion_drinking_control",
                                            "configURI": "./erosion_drinking_demo.json",
                                            "args_id": ["objectives",
                                                        {"inheritFrom": "erosion_drinking_objective",
                                                         "useAttribute": "file_name"}]
                                        }
                                    ]
                                },
                                {
                                    "id": "erosion_reservoir_objective_tab",
                                    "label": "Erosion Control for Reservoir Maintenance",
                                    "type": "tab",
                                    "enabledBy": "use_erosion_reservoir",
                                    "elements":
                                    [
                                        {
                                            "id": "erosion_reservoir_objective",
                                            "type": "embeddedUI",
                                            "file_name": "erosion_reservoir_control",
                                            "configURI": "./erosion_reservoir_demo.json",
                                            "args_id": ["objectives",
                                                        {"inheritFrom": "erosion_reservoir_objective",
                                                         "useAttribute": "file_name"}]
                                        }
                                    ]
                                },
                                {
                                    "id": "nutrient_retention_phosphorus_objective_tab",
                                    "label": "Nutrient Retention (Phosphorus)",
                                    "type": "tab",
                                    "enabledBy": "use_nutrient_retention_phosphorus",
                                    "elements":
                                    [
                                        {
                                            "id": "nutrient_retention_phosphorus_objective",
                                            "type": "embeddedUI",
                                            "file_name": "nutrient_retention_phosphorus",
                                            "configURI": "./nutrient_retention_phosphorus_demo.json",
                                            "args_id": ["objectives",
                                                        {"inheritFrom":"nutrient_retention_phosphorus_objective",
                                                        "useAttribute":"file_name"}]
                                        }
                                    ]
                                },
                                {
                                    "id": "nutrient_retention_nitrogen_objective_tab",
                                    "label": "Nutrient Retention (Nitrogen)",
                                    "type": "tab",
                                    "enabledBy": "use_nutrient_retention_nitrogen",
                                    "elements":
                                    [
                                        {
                                            "id": "nutrient_retention_nitrogen_objective",
                                            "file_name": "nutrient_retention_nitrogen",
                                            "type": "embeddedUI",
                                            "configURI": "./nutrient_retention_nitrogen_demo.json",
                                            "args_id": ["objectives",
                                                        {"inheritFrom":"nutrient_retention_nitrogen_objective",
                                                        "useAttribute":"file_name"}]
                                        }
                                    ]
                                },
                                {
                                    "id": "flood_mitigation_impact_objective_tab",
                                    "label": "Flood Mitigation",
                                    "type": "tab",
                                    "enabledBy": "use_flood_mitigation_impact",
                                    "elements":
                                    [
                                        {
                                            "id": "flood_mitigation_impact_objective",
                                            "file_name": "flood_mitigation_impact",
                                            "type": "embeddedUI",
                                            "configURI": "./flood_mitigation_impact_demo.json",
                                            "args_id": ["objectives",
                                                        {"inheritFrom":"flood_mitigation_impact_objective",
                                                        "useAttribute":"file_name"}]
                                        }
                                    ]
                                },
                                {
                                    "id": "groundwater_recharge_objective_tab",
                                    "label": "Groundwater Recharge Enhancement",
                                    "type": "tab",
                                    "enabledBy": "use_groundwater_recharge",
                                    "elements":
                                    [
                                        {
                                            "id": "groundwater_recharge_objective",
                                            "type": "embeddedUI",
                                            "configURI": "./groundwater_recharge_demo.json",
                                            "file_name": "groundwater_recharge",
                                            "args_id": ["objectives",
                                                        {"inheritFrom":"groundwater_recharge_objective",
                                                        "useAttribute":"file_name"}]
                                        }
                                    ]
                                },
                                {
                                    "id": "baseflow_objective_tab",
                                    "label": "Baseflow",
                                    "type": "tab",
                                    "enabledBy": "use_baseflow",
                                    "elements":
                                    [
                                        {
                                            "id": "baseflow_objective",
                                            "type": "embeddedUI",
                                            "configURI": "./baseflow_demo.json",
                                            "file_name": "baseflow",
                                            "args_id": ["objectives",
                                                        {"inheritFrom":"baseflow_objective",
                                                        "useAttribute":"file_name"}]
                                        }
                                    ]
                                },
                                {
                                    "id": "biodiversity_objective_tab",
                                    "label": "Biodiversity",
                                    "type": "tab",
                                    "enabledBy": "use_biodiversity",
                                    "elements":
                                    [
                                        {
                                            "id": "biodiversity_objective",
                                            "type": "embeddedUI",
                                            "configURI": "./biodiversity_demo.json",
                                            "file_name": "biodiversity",
                                            "args_id": ["objectives",
                                                        {"inheritFrom":"biodiversity_objective",
                                                        "useAttribute":"file_name"}]
                                        }
                                    ]
                                },
                                {
                                    "id": "other1_objective_tab",
                                    "label": "Other 1",
                                    "type": "tab",
                                    "enabledBy": "use_other1",
                                    "elements":
                                    [
                                        {
                                            "id": "other1_objective",
                                            "type": "embeddedUI",
                                            "configURI": "./other1_demo.json",
                                            "file_name": "other1",
                                            "args_id": ["objectives",
                                                        {"inheritFrom":"other1_objective",
                                                        "useAttribute":"file_name"}]
                                        }
                                    ]
                                },
                                {
                                    "id": "other2_objective_tab",
                                    "label": "Other 2",
                                    "type": "tab",
                                    "enabledBy": "use_other2",
                                    "elements":
                                    [
                                        {
                                            "id": "other2_objective",
                                            "type": "embeddedUI",
                                            "configURI": "./other2_demo.json",
                                            "file_name": "other2",
                                            "args_id": ["objectives",
                                                        {"inheritFrom":"other2_objective",
                                                        "useAttribute":"file_name"}]
                                        }
                                    ]
                                },
                                {
                                    "id": "other3_objective_tab",
                                    "label": "Other 3",
                                    "type": "tab",
                                    "enabledBy": "use_other3",
                                    "elements":
                                    [
                                        {
                                            "id": "other3_objective",
                                            "type": "embeddedUI",
                                            "configURI": "./other3_demo.json",
                                            "file_name": "other3",
                                            "args_id": ["objectives",
                                                        {"inheritFrom":"other3_objective",
                                                        "useAttribute":"file_name"}]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "id": "prioritizeObjectivesTab",
                    "type": "tab",
                    "label": "Objective-Transition Weights",
                    "condenseElements": true,
                    "elements":
                    [
                        {
                            "id": "prioritize_objectives_text",
                            "type": "label",
                            "label": "\n<b>Objective & Transition Weights Table</b> <br/>The numbers in the table indicate the weight of objectives and transitions relative to one another.  Default values assume that all objectives are considered equally in determining the transition score, and that all transitions contribute equally to fulfilling the objectives. Input other values to indicate that some objectives should be considered more strongly in the final selection of priority areas, or to indicate that some transitions are more effective at achieving an objective than others. The weights are used to create a single score per transition, by calculating a weighted average across all objectives.\n\n"
                        },
                        {
                            "id": "prioritiesTable",
                            "type": "table",
                            "args_id": "priorities",
                            "columns":
                            {
                                "inheritFrom": "water_funds_prioritizer",
                                "useAttribute": "global_landscape_transitions"
                            },
                            "rows":
                            [
                                {
                                    "id": "erosion_drinking_row",
                                    "label": {"inheritFrom":"erosion_drinking_objective_tab"},
                                    "file_name": {"inheritFrom": "erosion_drinking_objective",
                                                  "useAttribute": "file_name"},
                                    "enabledBy": "use_erosion_drinking",
                                    "defaultValue": [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
                                },
                                {
                                    "id": "erosion_reservoir_row",
                                    "label": {"inheritFrom":"erosion_reservoir_objective_tab"},
                                    "file_name": {"inheritFrom": "erosion_reservoir_objective",
                                                  "useAttribute": "file_name"},
                                    "enabledBy": "use_erosion_reservoir",
                                    "defaultValue": [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
                                },
                                {
                                    "id": "nutrient_retention_phosphorus_row",
                                    "label": {"inheritFrom":"nutrient_retention_phosphorus_objective_tab"},
                                    "file_name": {"inheritFrom": "nutrient_retention_phosphorus_objective",
                                                  "useAttribute": "file_name"},
                                    "enabledBy": "use_nutrient_retention_phosphorus",
                                    "defaultValue": [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
                                },
                                {
                                    "id": "nutrient_retention_nitrogen_row",
                                    "label": {"inheritFrom":"nutrient_retention_nitrogen_objective_tab"},
                                    "file_name": {"inheritFrom": "nutrient_retention_nitrogen_objective",
                                                  "useAttribute": "file_name"},
                                    "enabledBy": "use_nutrient_retention_nitrogen",
                                    "defaultValue": [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
                                },
                                {
                                    "id": "flood_mitigation_impact_row",
                                    "label": {"inheritFrom":"flood_mitigation_impact_objective_tab"},
                                    "file_name": {"inheritFrom": "flood_mitigation_impact_objective",
                                                  "useAttribute": "file_name"},
                                    "enabledBy": "use_flood_mitigation_impact",
                                    "defaultValue": [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
                                },
                                {
                                    "id": "groundwater_recharge_row",
                                    "label": {"inheritFrom":"groundwater_recharge_objective_tab"},
                                    "file_name": {"inheritFrom": "groundwater_recharge_objective",
                                                  "useAttribute": "file_name"},
                                    "enabledBy": "use_groundwater_recharge",
                                    "defaultValue": [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
                                },
                                {
                                    "id": "baseflow_row",
                                    "label": {"inheritFrom":"baseflow_objective_tab"},
                                    "file_name": {"inheritFrom": "baseflow_objective",
                                                  "useAttribute": "file_name"},
                                    "enabledBy": "use_baseflow",
                                    "defaultValue": [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
                                },
                                {
                                    "id": "biodiversity_row",
                                    "label": {"inheritFrom":"biodiversity_objective_tab"},
                                    "file_name": {"inheritFrom": "biodiversity_objective",
                                                  "useAttribute": "file_name"},
                                    "enabledBy": "use_biodiversity",
                                    "defaultValue": [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
                                },
                                {
                                    "id": "other1_row",
                                    "label": {"inheritFrom":"other1_objective_tab"},
                                    "file_name": {"inheritFrom": "other1_objective",
                                                  "useAttribute": "file_name"},
                                    "enabledBy": "use_other1",
                                    "defaultValue": [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
                                },
                                {
                                    "id": "other2_row",
                                    "label": {"inheritFrom":"other2_objective_tab"},
                                    "file_name": {"inheritFrom": "other2_objective",
                                                  "useAttribute": "file_name"},
                                    "enabledBy": "use_other2",
                                    "defaultValue": [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
                                },
                                {
                                    "id": "other3_row",
                                    "label": {"inheritFrom":"other3_objective_tab"},
                                    "file_name": {"inheritFrom": "other3_objective",
                                                  "useAttribute": "file_name"},
                                    "enabledBy": "use_other3",
                                    "defaultValue": [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
                                }
                            ]
                        }
                    ]
                },
                {
                    "id": "activity_potential_tab",
                    "type": "tab",
                    "label": "Transition Potential",
                    "condenseElements": true,
                    "elements":
                    [
                        {
                            "id": "activityvstransitiontext",
                            "type": "label",
                            "label": "<b>Activity-Transition Table</b> <br/> This table indicates which activities can be used to cause each transition. Select a cell and check the box to indicate that the activity can cause the transition. A <b><i>1</i></b> indicates that the activity can cause the transition."
                        },
                        {
                            "id": "activityvsTransitionTable",
                            "type": "activityTransitionTable",
                            "args_id": "transition_map",
                            "striped": false,
                            "defaultValue": 0,
                            "columns":
                            {
                                "inheritFrom": "water_funds_prioritizer",
                                "useAttribute": "global_landscape_transitions"
                            },
                            "rows": []
                        },
                        {
                            "id": "activity_shapefiles",
                            "type": "multi",
                            "args_id": "activity_shapefiles",
                            "label": "Activity Preferences (one or more shapefiles containing polygons that define areas where activities should either be preferred or prevented):",
                            "linkText": "Add another",
                            "sampleElement": {
                                "id": "sample",
                                "type": "file",
                                "label": "Restriction shapefile",
                                "returns": {"ifEmpty": "pass"},
                                "helpText": "Shapefile containing polygons that define areas where an activity should either be preferred or prevented.",
                                "validateAs": {
                                    "type": "OGR",
                                    "fieldsExist": ["activity_n", "action"],
                                    "layers": [
                                        {
                                            "name": {"inheritFrom": "file"},
                                            "type": "polygons",
                                            "projection": {"exists": true}
                                        }
                                    ]
                                }
                            }
                        }
                    ]
                },
                {
                    "id": "budget_selection_tab",
                    "type": "tab",
                    "label": "Select Budget",
                    "condenseElements": true,
                    "elements":
                    [
                        {
                            "id": "budget_selection_group",
                            "type": "container",
                            "label": "Budget Selection",
                            "elements":
                            [
                               {
                                    "id": "num_years_list",
                                    "type": "list",
                                    "elements":
                                    [
                                        {
                                            "id": "num_years",
                                            "type": "text",
                                            "width": 30,
                                            "validText": "[1-9]?[0-9]*",
                                            "dataType": "int",
                                            "label": "Number of years",
                                            "args_id": ["budget_config", "years_to_spend"],
                                            "defaultValue": "1",
                                            "helpText":"The default value of 1 indicates that all funds will be spent at once, and one portfolio will be produced. If a value larger than one is entered, the tool assumes that the Floating Budget and/or Activity Allocation table values are the amount of money available <i>per year</i>. It will create one portfolio per year at the given budget amount, and provide outputs for each year's portfolio."
                                        },
                                        {
                                            "id": "left_over_money",
                                            "type": "dropdown",
                                            "label": "If activity money cannot be spent:",
                                            "options": ["Report remainder",
                                                        "Proportionally reallocate"],
                                            "args_id": ["budget_config", "if_left_over"],
                                            "returns": "strings",
                                            "helpText":"Often, restrictions you have entered on which activities can take place on which land cover types limit the amount of area available for each activity. If there is not enough area available to meet the amount of budget allocated in the Activity Allocation Table, you can choose to:<br /><br />Report the remainder. In this case, any allocated money that cannot be spent on that activity is reported in the output table and not spent. Choosing this option gives you the flexibility to see how much is not spent and make your own adjustments to the Activity Allocation Table.<br /><br />Proportionally reallocate. In this case, the tool will redistribute any funds that cannot be spent on an activity they were allocated to among the other activities that had allocations in the Activity Allocation Table. The reallocation will be done based on the proportion of the original budget given to each activity."
                                        },
                                        {
                                            "id": "total_budget",
                                            "type": "text",
                                            "width": 100,
                                            "validText": "[1-9]?[0-9]*",
                                            "validateAs": {
                                                "type": "number",
                                                "gteq": 0
                                            },
                                            "dataType": "int",
                                            "required": true,
                                            "label": "Yearly Floating Budget",
                                            "args_id": ["budget_config", "floating_budget"],
                                            "defaultValue": "0",
                                            "helpText":"Enter in this box the amount of budget that you want to be spent based on return on investment only. If you enter the whole budget here, you may end up with only the one or two cheapest activities in your portfolio. If you want to be sure all activities are included in the portfolio, enter values in the Activity Allocation Table. If you enter values here <i>and</i> in the table, the values in the table will be spent first, then the Floating Budget amount will be spent based only on cost-effectiveness."
                                        }
                                    ]
                                },
                                {
                                    "id": "money_available_text",
                                    "type": "label",
                                    "label": "<b>Yearly Activity Allocation Table</b> <br/> Enter here the amount of money you want to have spent on each activity per year. If you do not want to pre-determine how much is spent on each activity, enter the total budget in the <i>Floating Budget</i> box. You can also enter values for some activities here and enter the remaining budget in the <i>Floating Budget</i> box."
                                },
                                {
                                    "id": "money_available_table",
                                    "type": "table",
                                    "args_id":["budget_config", "activity_budget"],
                                    "columns": [],
                                    "rows":
                                    [
                                        {
                                            "id":"money_available_row",
                                            "label": "Amount",
                                            "defaultValue": 0,
                                            "output_id": "budget_amount"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "id": "activity_cost_group",
                            "type": "container",
                            "label": "Activity Cost",
                            "elements":
                            [
                                {
                                    "id": "activity_cost_text",
                                    "type": "label",
                                    "label": "This table shows the cost of each activity per unit measure. If you do not wish an activity to be considered in a particular model run, enter a value of 0 in the cost per unit cell. All units are meters. The measurement value allows you to enter in costs for areas larger than 1 meter. If you have a unit cost of $500/ha, enter 500 in the cost per unit cell, select area from the measurement unit drop down and enter 10,000 in the measurement value.  The actual currency units do not matter, as long as all values are in the same currency as the budget."
                                },
                                {
                                    "id": "activity_cost_table",
                                    "type": "budgetConfigTable",
                                    "args_id": "activities",
                                    "columns": [],
                                    "rows":
                                    [
                                        {
                                            "id":"cost_per_hectare_row",
                                            "label": "Cost per unit",
                                            "defaultValue": 100,
                                            "output_id" :"unit_cost"
                                        },
                                        {
                                            "id":"measurement_unit",
                                            "label": "Measurement unit",
                                            "type": "dropdown",
                                            "options": ["area", "length"],
                                            "defaultValue": "area",
                                            "output_id": "measurement_unit"
                                        },
                                        {
                                            "id":"measurement_value",
                                            "label": "Length (m) or Area (m^2)",
                                            "defaultValue": 10000,
                                            "output_id":"measurement_value"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}
